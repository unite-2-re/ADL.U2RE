const t='@layer u2-long-text{@property --scroll-left{initial-value: 0; syntax: "<number>"; inherits: true;}@property --scroll-top{initial-value: 0; syntax: "<number>"; inherits: true;}@property --scroll-width{initial-value: 0; syntax: "<number>"; inherits: true;}@property --scroll-height{initial-value: 0; syntax: "<number>"; inherits: true;}@property --offset-width{initial-value: 0; syntax: "<number>"; inherits: true;}@property --offset-height{initial-value: 0; syntax: "<number>"; inherits: true;}@property --size-coef-x{initial-value: 0; syntax: "<number>"; inherits: true;}@property --size-coef-y{initial-value: 0; syntax: "<number>"; inherits: true;}@property --percent-x{initial-value: 0; syntax: "<number>"; inherits: true;}@property --percent-y{initial-value: 0; syntax: "<number>"; inherits: true;}@keyframes by-scroll-x{0%{--percent-x: 0}to{--percent-x: 1}}@keyframes scroll-side{0%{mask-image:linear-gradient(to left,#000,#fff 1rem)}1%{mask-image:linear-gradient(to left,#000,#fff 1rem),linear-gradient(to right,#000,#fff 1rem)}99%{mask-image:linear-gradient(to left,#000,#fff 1rem),linear-gradient(to right,#000,#fff 1rem)}to{mask-image:linear-gradient(to right,#000,#fff 1rem)}}*[inert]{pointer-events:none!important}u-focustext,u-longtext{--size-coef-x: clamp(0, calc(var(--offset-width) / var(--scroll-width) ), 1);--size-coef-y: clamp(0, calc(var(--offset-height) / var(--scroll-height)), 1)}u-focustext,u-longtext{transform:none;translate:0px 0px;scale:1}u-focustext,u-longtext{inset:0;max-inline-size:100%;inline-size:max-content;min-block-size:1ch;max-block-size:100%;block-size:max-content;min-inline-size:0px;box-sizing:border-box;place-content:center;place-items:center;overflow:hidden;display:grid!important;grid-template-columns:[input] minmax(0px,1fr) [button] minmax(0px,max-content);grid-template-rows:[input] minmax(0px,1fr) [scroll] minmax(0px,.5rem);overflow-anchor:auto;-webkit-user-drag:none;-moz-user-drag:none;user-drag:none;white-space:nowrap;text-overflow:clip;word-break:keep-all;word-wrap:normal;flex-wrap:nowrap;user-select:none;timeline-scope:--axis-scroll-x}u-focustext .lucide,u-longtext .lucide{contain-intrinsic-size:24px 24px;aspect-ratio:1/1;inline-size:max-content;block-size:100%;stroke:currentColor;user-select:none;touch-action:none;pointer-events:none}u-focustext input,u-longtext input{inset:0;user-select:auto;overflow:hidden;pointer-events:auto;display:inline;flex-direction:row;place-content:center;place-items:center;text-align:start;justify-items:start;stroke:currentColor;overflow-anchor:auto;container-type:normal;contain:none;field-sizing:content;font-stretch:ultra-condensed;letter-spacing:-1px;font-size:.9rem;font-weight:400;font-family:Fira Code,Consolas,Segoe UI Mono,Fira Mono,Droid Sans Mono,Roboto Mono,Oxygen Mono,Ubuntu Mono,Cascadia Mono,Source Code Pro,Courier New,Menlo,Monaco,ui-monospace,monospace;background-color:transparent;block-size:max-content;min-inline-size:100%;inline-size:max-content;max-inline-size:none;max-block-size:100%;min-block-size:1ch;touch-action:manipulation;box-sizing:border-box;outline:none 0px transparent;border:none 0px transparent;margin:0;-webkit-user-drag:none;-moz-user-drag:none;user-drag:none;white-space:nowrap;text-overflow:clip;word-break:keep-all;word-wrap:normal;flex-wrap:nowrap}u-focustext input[readonly],u-focustext input[disabled],u-focustext input[inert],u-focustext input:read-only,u-focustext input:disabled,u-longtext input[readonly],u-longtext input[disabled],u-longtext input[inert],u-longtext input:read-only,u-longtext input:disabled{user-select:none;pointer-events:none}u-focustext .u2-input-box,u-longtext .u2-input-box{inset:0;scroll-timeline-name:--axis-scroll-x;scroll-timeline-axis:inline;cursor:text;display:block;padding:.5rem;contain:content;container-type:inline-size;block-size:max-content;min-inline-size:100%;inline-size:100%;max-inline-size:100%;max-block-size:100%;min-block-size:1ch;box-sizing:border-box;overflow-y:hidden;overflow-x:auto;overflow-anchor:auto;overflow-block:hidden;overflow-inline:auto;scrollbar-width:none;scrollbar-gutter:stable;scroll-behavior:smooth;touch-action:pan-x;pointer-events:auto;grid-column:input;grid-row:1/2 span;white-space:nowrap;text-overflow:clip;word-break:keep-all;word-wrap:normal;flex-wrap:nowrap;-webkit-user-drag:none;-moz-user-drag:none;user-drag:none;user-select:none;background-color:transparent;mask-mode:luminance;mask-composite:intersect}u-focustext .u2-input-box:has(*::selection),u-longtext .u2-input-box:has(*::selection){overflow-x:hidden!important}@supports (animation-timeline: scroll()){u-focustext .u2-input-box,u-longtext .u2-input-box{transition-behavior:allow-discrete;animation-name:scroll-side;animation-timeline:--axis-scroll-x;animation-range:contain;animation-fill-mode:both;animation-timing-function:linear;animation-duration:1ms}}u-focustext .u2-button-box,u-longtext .u2-button-box{grid-column:button;grid-row:1/2 span;inline-size:100%;block-size:100%;user-select:none;touch-action:none;pointer-events:none;inset:0}u-focustext .u2-button-box button,u-longtext .u2-button-box button{outline:none 0px transparent;border:none 0px transparent;margin:0;padding:1rem;aspect-ratio:1/1;inline-size:max-content;block-size:100%;cursor:pointer;user-select:none;touch-action:none;pointer-events:auto}u-focustext .u2-scroll-box,u-longtext .u2-scroll-box{transform:none;container-type:size;contain:content;position:relative;grid-column:1/1 span;grid-row:scroll;inline-size:100%;block-size:100%;user-select:none;touch-action:none;pointer-events:none;place-self:start start;place-content:center start;place-items:center start;inset:0}u-focustext .u2-scroll-box.hidden,u-longtext .u2-scroll-box.hidden{display:none;visibility:collapse;opacity:0}u-focustext .u2-scroll-box .u2-scroll-bar,u-longtext .u2-scroll-box .u2-scroll-bar{transform:none;place-self:start start;inset:0;animation-name:by-scroll-x;animation-timeline:--axis-scroll-x;animation-timing-function:linear;animation-fill-mode:both;animation-duration:1ms;animation-range:contain;cursor:pointer;inline-size:calc(100% * var(--size-coef-x));block-size:100%;background-color:#10101040;user-select:none;touch-action:none;pointer-events:auto;translate:calc(var(--scroll-left) * var(--size-coef-x) * 1px) 0px!important}@supports (timeline-scope: --axis-scroll-x){u-focustext .u2-scroll-box .u2-scroll-bar,u-longtext .u2-scroll-box .u2-scroll-bar{translate:calc(var(--percent-x) * (1 - var(--size-coef-x)) * 100cqi) 0px!important}}u-focustext:is(u-focustext),u-longtext:is(u-focustext){position:fixed;z-index:9999999;inset:auto;inset-block-end:0px;inset-inline-start:0px;inline-size:100%;max-inline-size:100%;overflow-anchor:none;box-shadow:0 0 1rem 1px #00000070}u-focustext:is(u-focustext),u-longtext:is(u-focustext){inset-block-end:calc(min(env(keyboard-inset-bottom,0px),env(keyboard-inset-height,0px)) / var(--zoom, 1))}u-focustext:is(u-focustext) input,u-longtext:is(u-focustext) input{font-size:1.4rem;overflow-anchor:none;user-select:auto;font-weight:700}}',e=()=>"currentCSSZoom"in document.documentElement?document.documentElement.currentCSSZoom||1:parseFloat(document.documentElement.style.getPropertyValue("--scaling"))||1;let n=e()||1;document.documentElement.addEventListener("scaling",(()=>{n=e()||1})),document.documentElement.addEventListener("resize",(()=>{n=e()||1})),document.documentElement.classList.contains("__exp-use-zoom")||document.documentElement.classList.add("__exp-use-zoom"),addEventListener("resize",(()=>{n=e()||1}));const i=()=>n||1,o=()=>null==document.documentElement?.currentCSSZoom?1:i(),s=new WeakMap;class r{#t;constructor(t){this.#t=t,document.addEventListener("wheel",(t=>{this.#t?.matches?.(":where(:hover, :active)")&&(t.preventDefault(),t.stopPropagation(),this.#t.scrollBy({left:(t?.deltaY||0)+(t?.deltaX||0),top:0,behavior:"smooth"}))}),{passive:0});const e=t=>{const e=t?.target;if(e?.matches?.('input[type="text"], u-longtext, u-focustext')&&(this.#t?.contains(e)||e?.contains?.(this.#t))){const n=e?.matches("input")?e:e?.querySelector?.('input[type="text"]');n&&("click"!=t.type&&"touch"!=t.pointerType||(t?.preventDefault?.(),t?.stopPropagation?.()),document.activeElement!=n&&"click"==t.type&&n?.focus?.())}};document.addEventListener("click",e),document.addEventListener("select",e),document.addEventListener("selectionchange",e),document.addEventListener("selectstart",e);const n=()=>{this.#t?.parentElement?.style.setProperty("--scroll-left",""+this.#t.scrollLeft,""),this.#t?.parentElement?.style.setProperty("--scroll-top",""+this.#t.scrollTop,""),this.#t?.parentElement?.style.setProperty("--scroll-width",""+this.#t.scrollWidth,""),this.#t?.parentElement?.style.setProperty("--scroll-height",""+this.#t.scrollHeight,""),this.#t?.parentElement?.style.setProperty("--offset-width",""+this.#t.offsetWidth,""),this.#t?.parentElement?.style.setProperty("--offset-height",""+this.#t.offsetHeight,""),(this.#t?.offsetWidth||0)<(this.#t?.scrollWidth||0)?this.#t?.parentElement?.querySelector(".u2-scroll-box")?.classList?.contains?.("hidden")&&this.#t?.parentElement?.querySelector(".u2-scroll-box")?.classList?.remove?.("hidden"):this.#t?.parentElement?.querySelector(".u2-scroll-box")?.classList?.contains?.("hidden")||this.#t?.parentElement?.querySelector(".u2-scroll-box")?.classList?.add?.("hidden")};n(),requestAnimationFrame(n);const o={pointerLocation:0,virtualScroll:0,pointerId:-1};document.addEventListener("input",n),document.addEventListener("change",n),this.#t.addEventListener("scroll",(t=>{n()})),((t,e)=>{if(!s.has(t)){const n=[],i=new ResizeObserver((t=>{for(const e of t)if(e.borderBoxSize){const t=e.borderBoxSize[0];t&&n.forEach((e=>e?.(t,i)))}}));e?.({inlineSize:t.offsetWidth,blockSize:t.offsetHeight}),s.set(t,n),i.observe(t,{box:"border-box"})}s.get(t)?.push(e)})(this.#t,(t=>{n(),this.#t?.parentElement?.style.setProperty("--offset-width",""+t.inlineSize,""),this.#t?.parentElement?.style.setProperty("--offset-height",""+t.blockSize,"")})),this.#t.parentElement?.querySelector(".u2-scroll-bar")?.addEventListener?.("dragstart",(t=>{t?.preventDefault?.(),t?.stopPropagation?.()})),this.#t.parentElement?.querySelector(".u2-scroll-bar")?.addEventListener?.("pointerdown",(t=>{0>o.pointerId&&(t?.preventDefault?.(),t?.stopPropagation?.(),o.pointerId=t.pointerId,o.pointerLocation=t.clientX/i(),o.virtualScroll=this.#t?.scrollLeft)})),document.documentElement.addEventListener("pointermove",(t=>{if(t.pointerId==o.pointerId){t.stopPropagation(),t.preventDefault();const e=this.#t?.scrollLeft,n=t.clientX/i();o.virtualScroll+=(n-o.pointerLocation)/Math.max(Math.max(Math.min(this.#t?.offsetWidth/Math.max(this.#t?.scrollWidth,1e-4),1),0),1e-4),o.pointerLocation=n;const s=o.virtualScroll-e;.001>Math.abs(s)||this.#t?.scrollBy({left:s,behavior:"instant"})}}),{capture:1});const r=t=>{o.pointerId==t.pointerId&&(t.stopPropagation(),t.preventDefault(),requestAnimationFrame((()=>{this.#t?.scrollTo({left:o.virtualScroll[0],behavior:"instant"})})),o.pointerId=-1,o.virtualScroll=this.#t?.scrollLeft)};document.documentElement.addEventListener("pointerup",r,{capture:1}),document.documentElement.addEventListener("pointercancel",r,{capture:1})}}const a=(t,e)=>{t.matches(".u2-copy")&&(e?.selectionEnd||0)>(e?.selectionStart||0)&&navigator.clipboard.writeText(e.value.substring(e.selectionStart||0,e.selectionEnd||0)),t.matches(".u2-paste")&&(e?.selectionEnd||0)>=(e?.selectionStart||0)&&navigator.clipboard.readText().then((t=>{const n=e?.selectionStart||0,i=(e?.value?.substring(0,e?.selectionStart||0)||"")+(t||"")+(e?.value?.substring?.(e?.selectionEnd||0)||"");e&&(e.value=i),e?.setSelectionRange(n+t.length,n+t.length),e?.dispatchEvent(new Event("input",{bubbles:1,cancelable:1}))}))},l=t=>{if(!t)return;const e=t.querySelector("input"),n=t?.querySelector(".u2-input-box"),i=[n.scrollLeft,n.scrollTop];new r(n);let o=0;const s=t=>{o&&n.scrollTo({left:i[0],top:i[1],behavior:"instant"}),o=0};document.addEventListener("pointerup",s,{capture:1,passive:1}),document.addEventListener("pointercancel",s,{capture:1,passive:1}),document?.addEventListener("selectionchange",(()=>{i[0]=n.scrollLeft,i[1]=n.scrollTop}),{capture:1,passive:1});const a=()=>{o&&n.scrollTo({left:i[0],top:i[1],behavior:"instant"})};n.addEventListener("scroll",a,{capture:1,passive:1}),n.addEventListener("scrollend",a,{capture:1,passive:1});const l=()=>{document.activeElement!=e&&(e?.removeAttribute?.("readonly"),e?.focus?.())},c=t=>{t.preventDefault(),t.dataTransfer&&(t.dataTransfer.dropEffect="none")};t?.addEventListener("dragstart",c),e?.addEventListener("dragstart",c),n?.addEventListener("dragstart",c),n.addEventListener("focus",l),t.addEventListener("focus",l)},c=URL.createObjectURL(new Blob([t],{type:"text/css"}));class u extends HTMLElement{#e;#n=[0,0];#i=0;#o(){if(!this.#i){this.#i=1;const t=this.querySelector("input"),e=(new DOMParser).parseFromString('<template>\r\n    <div class="u2-input-box" tabindex="-1"  scroll="no">\r\n        <input tabindex="0" draggable="false" autocomplete="on" class="u2-input" virtualkeyboardpolicy="manual" type="text" scroll="no">\r\n    </div>\r\n    <div     part="scroll-box" class="u2-scroll-box" tabindex="-1">\r\n        <div part="scroll-bar" class="u2-scroll-bar" tabindex="-1" data-highlight="4" data-chroma="0.6" data-scheme="solid" data-alpha="0.8"></div>\r\n    </div>\r\n</template>\r\n',"text/html");t&&this.removeChild(t),this.innerHTML="",e.querySelector("template")?.content?.childNodes.forEach((t=>{this.appendChild(t.cloneNode(1))}));const n=document.createElement("style");n.innerHTML=`@import url("${c}");`,this.appendChild(n);const i=this.querySelector("input");this.#e=t??i,t&&i?.replaceWith?.(t),this.#e?.addEventListener("change",(t=>{const e=t.target;CSS.supports("field-sizing","content")||e?.style?.setProperty("inline-size",(e?.value||"").length+"ch")})),this.#e?.addEventListener("input",(t=>{const e=t.target;CSS.supports("field-sizing","content")||e?.style?.setProperty("inline-size",(e?.value||"").length+"ch")})),CSS.supports("field-sizing","content")||this.#e?.style?.setProperty("inline-size",(this.#e?.value||"").length+"ch");const o=t=>{const e=t.target;e.matches("u-longtext button")&&this.contains(e)&&(t.preventDefault(),t.stopPropagation(),document.activeElement==e&&this.restoreFocus(),"click"==t.type&&a(e,document.activeElement))};document.addEventListener("click",o,{capture:1}),document.addEventListener("pointerdown",o,{capture:1}),l(this)}}constructor(){super()}connectedCallback(){this.#o(),CSS.supports("field-sizing","content")||this.#e?.style?.setProperty("inline-size",(this.#e?.value||"").length+"ch")}restoreFocus(){document.activeElement!=this.#e&&(this.#e?.setSelectionRange?.(...this.#n||[0,0]),this.#e?.focus?.())}}customElements.define("u-longtext",u);const p=()=>{},h=new OffscreenCanvas(1,1).getContext("2d"),d=URL.createObjectURL(new Blob([t],{type:"text/css"})),m=(t,e)=>!!t?.matches?.(e)||!!t?.closest?.(e),x=(t,e)=>(t?.matches?.(e)?t:null)||t?.closest?.(e);class f extends HTMLElement{#e;#s;#n=[0,0];#i=0;#o(){if(!this.#i){this.#i=1;const t=this.querySelector("input"),e=(new DOMParser).parseFromString('<template>\r\n    <div class="u2-input-box" tabindex="-1"  scroll="no">\r\n        <input tabindex="-1" draggable="false" autocomplete="on" class="u2-input" type="text" value=""  scroll="no">\r\n    </div>\r\n    <div     class="u2-scroll-box" tabindex="-1">\r\n        <div class="u2-scroll-bar" tabindex="-1" data-highlight="4" data-chroma="0.6" data-scheme="solid" data-alpha="0.8"></div>\r\n    </div>\r\n    <div class="u2-button-box"   tabindex="-1">\r\n        <button class="u2-copy"  tabindex="-1" type="button">\r\n            <svg inert xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>\r\n        </button>\r\n        <button class="u2-paste" tabindex="-1" type="button">\r\n            <svg inert xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"/><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/></svg>\r\n        </button>\r\n    </div>\r\n</template>\r\n',"text/html");t&&this.removeChild(t),this.innerHTML="",e.querySelector("template")?.content?.childNodes.forEach((t=>{this.appendChild(t.cloneNode(1))}));const n=document.createElement("style");n.innerHTML=`@import url("${d}");`,this.appendChild(n),this.#n=[0,0],this.#s=null;const i=this.querySelector("input");this.#e=t??i,t&&i?.replaceWith?.(t),this.#e?.addEventListener("change",(t=>{const e=t.target;CSS.supports("field-sizing","content")||e?.style?.setProperty("inline-size",(e?.value||"").length+"ch")})),this.#e?.addEventListener("input",(t=>{const e=t.target;CSS.supports("field-sizing","content")||e?.style?.setProperty("inline-size",(e?.value||"").length+"ch")})),CSS.supports("field-sizing","content")||this.#e?.style?.setProperty("inline-size",(this.#e?.value||"").length+"ch"),this.#e?.addEventListener("focus",(t=>{requestAnimationFrame((()=>{this.#s?.setAttribute?.("disabled","")}))})),this.#e?.addEventListener("change",(t=>{this.reflectInput()})),this.#e?.addEventListener("input",(t=>{this.reflectInput()})),this.#e?.addEventListener("blur",(t=>{this.#n[0]=t.target?.selectionStart||0,this.#n[1]=t.target?.selectionEnd||this.#n[0],requestAnimationFrame((()=>{this.#s?.removeAttribute?.("disabled"),document.activeElement!=this.#e&&(this.style.setProperty("display","none","important"),this.#s=null)}))})),this.style.setProperty("display","none","important"),this.#s=null,l(this)}}constructor(){super()}connectedCallback(){this.#o(),this.style.setProperty("display","none","important"),CSS.supports("field-sizing","content")||this.#e?.style?.setProperty("inline-size",(this.#e?.value||"").length+"ch")}reflectInput(t){if((t??=this.#s)&&t!=this.#e){const e=this.#e?.value??t.value;e!=t.value&&(t.value=e)}}setVirtualFocus(t,e=0){if(this.#s&&(this.#s?.removeAttribute?.("disabled"),this.#s=null),this.#e&&t!=this.#e&&t&&t?.parentNode&&(this.#s=t)){const t=this.#e.value||"",i=this.#s?.value||"",o=[this.#s?.selectionStart??this.#e?.selectionStart??0,this.#s?.selectionEnd??this.#e?.selectionEnd??0];if(document.activeElement!=this.#e&&(this.style.removeProperty("display"),this.#e?.focus?.()),this.#e&&this.#s&&(i!=t&&(this.#e.value=i),t==i&&!e||this.#e==this.#s||(o[0]!=o[1]||o[1]&&(o[0]||o[1]||0)<this.#s.value.length-1)&&this.#e?.setSelectionRange?.(...o)),e){const t=((t,e)=>{const n=getComputedStyle(e,"");if(h&&n){const e=n.getPropertyValue("font-weight")||"normal",i=n.getPropertyValue("font-size")||"16px",o=n.getPropertyValue("font-family")||"Times New Roman";return h.letterSpacing=n.getPropertyValue("letter-spacing")??"normal",h.fontStretch=n.getPropertyValue("font-stretch")??"normal",h.fontKerning=n.getPropertyValue("font-kerning")??"auto",h.fontVariantCaps=n.getPropertyValue("font-variant-caps")??"normal",h.font=`${e} ${i} ${o}`,h.measureText(t)}})((n=this.#e).value.slice(0,n.selectionEnd||0),n),e=this?.querySelector(".u2-input-box");e?.scrollTo?.({left:(t?.width??e?.scrollLeft??0)-64,top:e?.scrollTop??0,behavior:"smooth"})}}var n;requestAnimationFrame((()=>{document.activeElement==this.#e&&this.#s||this.style.setProperty("display","none","important")}))}restoreFocus(){this.#s&&document.activeElement!=this.#e&&"none"!=this.style.getPropertyValue("display")&&(this.#e?.setSelectionRange?.(...this.#n||[0,0]),this.#e?.focus?.())}}customElements.define("u-focustext",f);const b=t=>{let e=t?.target;if(m(e,'input[type="text"], u-focustext, u-longtext')&&!e.matches('input[type="text"]')&&(e=e?.querySelector?.('input[type="text"]')??e),matchMedia("(hover: none) and (pointer: coarse)").matches){const n=document.querySelector("u-focustext"),s=n?.querySelector?.("input");if(m(e,"u-focustext")||"click"!=t?.type||s?.blur?.(),e?.matches?.('input[type="text"]')&&!e?.closest?.("u-focustext")){if(["click","pointerdown","focus","focusin"].indexOf(t?.type||"")>=0){if(t&&"pointerdown"==t?.type&&s){const n=((t,e)=>{const n=t.getBoundingClientRect();return((t,e)=>{const n=getComputedStyle(t,""),i=t?.value||"";if(h&&n){const t=n.getPropertyValue("font-weight")||"normal",o=n.getPropertyValue("font-size")||"16px",s=n.getPropertyValue("font-family")||"Times New Roman";h.letterSpacing=n.getPropertyValue("letter-spacing")??"normal",h.fontStretch=n.getPropertyValue("font-stretch")??"normal",h.fontKerning=n.getPropertyValue("font-kerning")??"auto",h.fontVariantCaps=n.getPropertyValue("font-variant-caps")??"normal",h.font=`${t} ${o} ${s}`;let r=0;for(let t=0;i.length>t;t++)if(r=h.measureText(i.slice(0,t)).width,r>=e[0])return Math.max(t-1,0);return i.length}return i.length})(t,[e[0]-n.left/o(),e[1]-n.top/o()])})(e,[t?.clientX/i(),t?.clientY/i()]);s?.setSelectionRange(n,n)}0>["click","focus","focusin"].indexOf(t?.type||"")||n?.setVirtualFocus?.(e,"click"==t.type||"pointerdown"==t.type)}t?.preventDefault?.(),t?.stopPropagation?.()}}},g=t=>{const e=t.target,n=document.querySelector("u-focustext");b(t),e.matches("u-focustext button")&&n.contains(e)&&(t.preventDefault(),t.stopPropagation(),document.activeElement==e&&n.restoreFocus(),"click"==t.type&&a(e,document.activeElement))};document.documentElement.addEventListener("click",g),document.documentElement.addEventListener("pointerdown",g),document.addEventListener("focusin",(t=>{const e=t?.target;e?.matches('input[type="text"]')&&!e?.closest?.("u-focustext")&&e instanceof HTMLInputElement&&requestAnimationFrame((()=>{document.activeElement==e&&b(t)}))})),document.addEventListener("select",b),document.addEventListener("selectionchange",b),document.addEventListener("selectstart",b);export{f as FocusTextElement,m as MOC,x as MOCElement,p as default};