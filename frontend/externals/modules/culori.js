function e(e){let r=e[X],a=e[X+1];return"-"===r||"+"===r?/\d/.test(a)||"."===a&&/\d/.test(e[X+2]):/\d/.test("."===r?a:r)}function r(e){if(X>=e.length)return 0;let r=e[X];if(K.test(r))return 1;if("-"===r){if(2>e.length-X)return 0;let r=e[X+1];return"-"===r||K.test(r)?1:0}return 0}function a(e){let a="";if("-"!==e[X]&&"+"!==e[X]||(a+=e[X++]),a+=t(e),"."===e[X]&&/\d/.test(e[X+1])&&(a+=e[X++]+t(e)),"e"!==e[X]&&"E"!==e[X]||("-"!==e[X+1]&&"+"!==e[X+1]||!/\d/.test(e[X+2])?/\d/.test(e[X+1])&&(a+=e[X++]+t(e)):a+=e[X++]+e[X++]+t(e)),r(e)){let r=o(e);return"deg"===r||"rad"===r||"turn"===r||"grad"===r?{type:V,value:a*Y[r]}:void 0}return"%"===e[X]?(X++,{type:S,value:+a}):{type:Q,value:+a}}function t(e){let r="";for(;/\d/.test(e[X]);)r+=e[X++];return r}function o(e){let r="";for(;e.length>X&&L.test(e[X]);)r+=e[X++];return r}function i(e){let r=o(e);return"("===e[X]?(X++,{type:N,value:r}):"none"===r?{type:U,value:void 0}:{type:P,value:r}}function l(e,r){const a=[];let t;for(;e.length>e._i;)if(t=e[e._i++],t.type===U||t.type===Q||t.type===W||t.type===S||r&&t.type===V)a.push(t);else{if(t.type!==T)return;if(e.length>e._i)return}if(a.length>=3&&4>=a.length){if(4===a.length){if(a[3].type!==W)return;a[3]=a[3].value}return 3===a.length&&a.push({type:U,value:void 0}),a.every((e=>e.type!==W))?a:void 0}}function d({h:e,s:r,v:a,alpha:t}){e=Me(void 0!==e?e:0),void 0===r&&(r=0),void 0===a&&(a=0);let o,i=Math.abs(e/60%2-1);switch(Math.floor(e/60)){case 0:o={r:a,g:a*(1-r*i),b:a*(1-r)};break;case 1:o={r:a*(1-r*i),g:a,b:a*(1-r)};break;case 2:o={r:a*(1-r),g:a,b:a*(1-r*i)};break;case 3:o={r:a*(1-r),g:a*(1-r*i),b:a};break;case 4:o={r:a*(1-r*i),g:a*(1-r),b:a};break;case 5:o={r:a,g:a*(1-r),b:a*(1-r*i)};break;default:o={r:a*(1-r),g:a*(1-r),b:a*(1-r)}}return o.mode="rgb",void 0!==t&&(o.alpha=t),o}function n({r:e,g:r,b:a,alpha:t}){void 0===e&&(e=0),void 0===r&&(r=0),void 0===a&&(a=0);let o=Math.max(e,r,a),i=Math.min(e,r,a),l={mode:"hsv",s:0===o?0:1-i/o,v:o};return o-i!=0&&(l.h=60*(o===e?(r-a)/(o-i)+6*(a>r):o===r?(a-e)/(o-i)+2:(e-r)/(o-i)+4)),void 0!==t&&(l.alpha=t),l}function h(e){if(0>e)return 0;const r=Math.pow(e,1/tr);return 1e4*Math.pow(Math.max(0,r-or)/(ir-lr*r),1/ar)}function u(e){if(0>e)return 0;const r=Math.pow(e/1e4,ar);return Math.pow((or+ir*r)/(1+lr*r),tr)}function s(e){const r=.206,a=1.206/1.03;return.5*(a*e-r+Math.sqrt((a*e-r)*(a*e-r)+.12*a*e))}function v(e){return(e*e+.206*e)/(1.206/1.03*(e+.03))}function b(e,r){let a=((e,r)=>{let a,t,o,i,l,d,n,h;-1.88170328*e-.80936493*r>1?(a=1.19086277,t=1.76576728,o=.59662641,i=.75515197,l=.56771245,d=4.0767416621,n=-3.3077115913,h=.2309699292):1.81444104*e-1.19445276*r>1?(a=.73956515,t=-.45954404,o=.08285427,i=.1254107,l=.14503204,d=-1.2684380046,n=2.6097574011,h=-.3413193965):(a=1.35733652,t=-.00915799,o=-1.1513021,i=-.50559606,l=.00692167,d=-.0041960863,n=-.7034186147,h=1.707614701);let u=a+t*e+o*r+i*e*e+l*e*r,s=.3963377774*e+.2158037573*r,v=-.1055613458*e-.0638541728*r,b=-.0894841775*e-1.291485548*r;{let e=1+u*s,r=1+u*v,a=1+u*b,t=d*e*e*e+n*r*r*r+h*a*a*a,o=3*d*s*e*e+3*n*v*r*r+3*h*b*a*a;u-=t*o/(o*o-.5*t*(6*d*s*s*e+6*n*v*v*r+6*h*b*b*a))}return u})(e,r),t=Yr({l:1,a:a*e,b:a*r}),o=Math.cbrt(1/Math.max(t.r,t.g,t.b));return[o,o*a]}function g(e,r,a=null){a||(a=b(e,r));let t=a[0],o=a[1];return[o/t,o/(1-t)]}function M(e,r,a){let t=b(r,a),o=((e,r,a,t,o,i=null)=>{let l;if(i||(i=b(e,r)),(a-o)*i[1]-(i[0]-o)*t>0){l=i[1]*(o-1)/(t*(i[0]-1)+i[1]*(o-a));{let i=a-o,d=.3963377774*e+.2158037573*r,n=-.1055613458*e-.0638541728*r,h=-.0894841775*e-1.291485548*r,u=i+t*d,s=i+t*n,v=i+t*h;{let e=o*(1-l)+l*a,r=l*t,i=e+r*d,b=e+r*n,g=e+r*h,M=i*i*i,p=b*b*b,f=g*g*g,c=3*u*i*i,m=3*s*b*b,y=3*v*g*g,x=6*u*u*i,z=6*s*s*b,k=6*v*v*g,$=4.0767416621*M-3.3077115913*p+.2309699292*f-1,w=4.0767416621*c-3.3077115913*m+.2309699292*y,j=w/(w*w-.5*$*(4.0767416621*x-3.3077115913*z+.2309699292*k)),q=-$*j,E=-1.2684380046*M+2.6097574011*p-.3413193965*f-1,F=-1.2684380046*c+2.6097574011*m-.3413193965*y,R=F/(F*F-.5*E*(-1.2684380046*x+2.6097574011*z-.3413193965*k)),A=-E*R,I=-.0041960863*M-.7034186147*p+1.707614701*f-1,O=-.0041960863*c-.7034186147*m+1.707614701*y,Z=O/(O*O-.5*I*(-.0041960863*x-.7034186147*z+1.707614701*k)),_=-I*Z;q=0>j?1e6:q,A=0>R?1e6:A,_=0>Z?1e6:_,l+=Math.min(q,Math.min(A,_))}}}else l=i[1]*o/(t*i[0]+i[1]*(o-a));return l})(r,a,e,1,e,t),i=g(r,a,t),l=e*(.11516993+1/(7.4477897+4.1590124*a+r*(1.75198401*a-2.19557347+r*(-2.13704948-10.02301043*a+r*(5.38770819*a-4.24894561+4.69891013*r))))),d=(1-e)*(.11239642+1/(1.6132032-.68124379*a+r*(.40370612+.90148123*a+r*(.6122399*a-.27087943+r*(.00299215-.45399568*a-.14661872*r))))),n=o/Math.min(e*i[0],(1-e)*i[1])*.9*Math.sqrt(Math.sqrt(1/(1/(l*l*l*l)+1/(d*d*d*d))));return l=.4*e,d=.8*(1-e),[Math.sqrt(1/(1/(l*l)+1/(d*d))),n,o]}function p(e){const r=void 0!==e.l?e.l:0,a=void 0!==e.a?e.a:0,t=void 0!==e.b?e.b:0,o={mode:"okhsl",l:s(r)};void 0!==e.alpha&&(o.alpha=e.alpha);let i=Math.sqrt(a*a+t*t);if(!i)return o.s=0,o;let l,[d,n,h]=M(r,a/i,t/i);if(n>i){let e=0,r=.8*d;l=(i-e)/(r+(1-r/n)*(i-e))*.8}else{let e=.2*n*n*1.5625/d;l=.8+(i-n)/(e+(1-e/(h-n))*(i-n))*.2}return l&&(o.s=l,o.h=Me(180*Math.atan2(t,a)/Math.PI)),o}function f(e){let r=void 0!==e.h?e.h:0,a=void 0!==e.s?e.s:0,t=void 0!==e.l?e.l:0;const o={mode:"oklab",l:v(t)};if(void 0!==e.alpha&&(o.alpha=e.alpha),!a||1===t)return o.a=o.b=0,o;let i,l,d,n,h=Math.cos(r/180*Math.PI),u=Math.sin(r/180*Math.PI),[s,b,g]=M(o.l,h,u);.8>a?(i=1.25*a,l=0,d=.8*s,n=1-d/b):(i=5*(a-.8),l=b,d=.2*b*b*1.5625/s,n=1-d/(g-b));let p=l+i*d/(1-n*i);return o.a=p*h,o.b=p*u,o}function c(e){let r=void 0!==e.l?e.l:0,a=void 0!==e.a?e.a:0,t=void 0!==e.b?e.b:0,o=Math.sqrt(a*a+t*t),i=o?a/o:1,l=o?t/o:1,[d,n]=g(i,l),h=1-.5/d,u=n/(o+r*n),b=u*r,M=u*o,p=v(b),f=M*p/b,c=Yr({l:p,a:i*f,b:l*f}),m=Math.cbrt(1/Math.max(c.r,c.g,c.b,0));r/=m,o=o/m*s(r)/r,r=s(r);const y={mode:"okhsv",s:o?(.5+n)*M/(.5*n+n*h*M):0,v:r?r/b:0};return y.s&&(y.h=Me(180*Math.atan2(t,a)/Math.PI)),void 0!==e.alpha&&(y.alpha=e.alpha),y}function m(e){const r={mode:"oklab"};void 0!==e.alpha&&(r.alpha=e.alpha);const a=void 0!==e.h?e.h:0,t=void 0!==e.s?e.s:0,o=void 0!==e.v?e.v:0,i=Math.cos(a/180*Math.PI),l=Math.sin(a/180*Math.PI),[d,n]=g(i,l),h=.5,u=1-h/d,s=1-t*h/(h+n-n*u*t),b=t*n*h/(h+n-n*u*t),M=v(s),p=b*M/s,f=Yr({l:M,a:i*p,b:l*p}),c=Math.cbrt(1/Math.max(f.r,f.g,f.b,0)),m=v(o*s),y=b*m/s;return r.l=m*c,r.a=y*i*c,r.b=y*l*c,r}var y,x;const z=(e,r)=>{if("number"==typeof e)return 3===r?{mode:"rgb",r:(e>>8&15|e>>4&240)/255,g:(e>>4&15|240&e)/255,b:(15&e|e<<4&240)/255}:4===r?{mode:"rgb",r:(e>>12&15|e>>8&240)/255,g:(e>>8&15|e>>4&240)/255,b:(e>>4&15|240&e)/255,alpha:(15&e|e<<4&240)/255}:6===r?{mode:"rgb",r:(e>>16&255)/255,g:(e>>8&255)/255,b:(255&e)/255}:8===r?{mode:"rgb",r:(e>>24&255)/255,g:(e>>16&255)/255,b:(e>>8&255)/255,alpha:(255&e)/255}:void 0},k={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},$=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,w="([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)",j=w+"%",q=`(?:${w}%|${w})`,E=`(?:${w}(deg|grad|rad|turn)|${w})`,F="\\s*,\\s*",R=RegExp(`^rgba?\\(\\s*${w}${F}${w}${F}${w}\\s*(?:,\\s*${q}\\s*)?\\)$`),A=RegExp(`^rgba?\\(\\s*${j}${F}${j}${F}${j}\\s*(?:,\\s*${q}\\s*)?\\)$`),I=(e,r)=>void 0===e?void 0:"object"!=typeof e?ee(e):void 0!==e.mode?e:r?{...e,mode:r}:void 0,O=(e="rgb")=>r=>void 0!==(r=I(r,e))?r.mode===e?r:Z[r.mode][e]?Z[r.mode][e](r):"rgb"===e?Z[r.mode].rgb(r):Z.rgb[e](Z[r.mode].rgb(r)):void 0,Z={},_={},B=[],C={},D=e=>e,G=e=>(Z[e.mode]={...Z[e.mode],...e.toMode},Object.keys(e.fromMode||{}).forEach((r=>{Z[r]||(Z[r]={}),Z[r][e.mode]=e.fromMode[r]})),e.ranges||(e.ranges={}),e.difference||(e.difference={}),e.channels.forEach((r=>{if(void 0===e.ranges[r]&&(e.ranges[r]=[0,1]),!e.interpolate[r])throw Error("Missing interpolator for: "+r);"function"==typeof e.interpolate[r]&&(e.interpolate[r]={use:e.interpolate[r]}),e.interpolate[r].fixup||(e.interpolate[r].fixup=D)})),_[e.mode]=e,(e.parse||[]).forEach((r=>{J(r,e.mode)})),O(e.mode)),H=e=>_[e],J=(e,r)=>{if("string"==typeof e){if(!r)throw Error("'mode' required when 'parser' is a string");C[e]=r}else"function"==typeof e&&0>B.indexOf(e)&&B.push(e)},K=/[^\x00-\x7F]|[a-zA-Z_]/,L=/[^\x00-\x7F]|[-\w]/,N="function",P="ident",Q="number",S="percentage",T=")",U="none",V="hue",W="alpha";let X=0;const Y={deg:1,rad:180/Math.PI,grad:.9,turn:360},ee=t=>{if("string"!=typeof t)return;const d=((t="")=>{let l,d=t.trim(),n=[];for(X=0;d.length>X;)if(l=d[X++],"\n"!==l&&"\t"!==l&&" "!==l){if(","===l)return;if(")"!==l){if("+"===l){if(X--,e(d)){n.push(a(d));continue}return}if("-"===l){if(X--,e(d)){n.push(a(d));continue}if(r(d)){n.push({type:P,value:o(d)});continue}return}if("."===l){if(X--,e(d)){n.push(a(d));continue}return}if("/"===l){for(;d.length>X&&("\n"===d[X]||"\t"===d[X]||" "===d[X]);)X++;let t;if(e(d)&&(t=a(d),t.type!==V)){n.push({type:W,value:t});continue}if(r(d)&&"none"===o(d)){n.push({type:W,value:{type:U,value:void 0}});continue}return}if(/\d/.test(l))X--,n.push(a(d));else{if(!K.test(l))return;X--,n.push(i(d))}}else n.push({type:T})}else for(;d.length>X&&("\n"===d[X]||"\t"===d[X]||" "===d[X]);)X++;return n})(t),n=d?(e=>{e._i=0;let r=e[e._i++];if(!r||r.type!==N)return;let a=l(e,1);return a?(a.unshift(r.value),a):void 0})(d):void 0;let h,u=0,s=B.length;for(;s>u;)if(void 0!==(h=B[u++](t,n)))return h;return d?(e=>{e._i=0;let r=e[e._i++];if(!r||r.type!==N||"color"!==r.value)return;if(r=e[e._i++],r.type!==P)return;const a=C[r.value];if(!a)return;const t={mode:a},o=l(e,0);if(!o)return;const i=H(a).channels;for(let e,r,a=0;i.length>a;a++)e=o[a],r=i[a],e.type!==U&&(t[r]=e.type===Q?e.value:e.value/100,"alpha"===r&&(t[r]=Math.max(0,Math.min(1,t[r]))));return t})(d):void 0},re=(y=(e,r,a)=>e+a*(r-e),e=>{let r=(e=>{let r=[];for(let a=0;e.length-1>a;a++){let t=e[a],o=e[a+1];r.push(void 0===t&&void 0===o?void 0:void 0!==t&&void 0!==o?[t,o]:void 0!==t?[t,t]:[o,o])}return r})(e);return e=>{let a=e*r.length,t=1>e?Math.max(Math.floor(a),0):r.length-1,o=r[t];return void 0===o?void 0:y(o[0],o[1],a-t)}}),ae=e=>{let r=0,a=e.map((e=>void 0!==e?(r=1,e):1));return r?a:e},te={mode:"rgb",channels:["r","g","b","alpha"],parse:[(e,r)=>{if(!r||"rgb"!==r[0]&&"rgba"!==r[0])return;const a={mode:"rgb"},[,t,o,i,l]=r;return t.type!==V&&o.type!==V&&i.type!==V?(t.type!==U&&(a.r=t.type===Q?t.value/255:t.value/100),o.type!==U&&(a.g=o.type===Q?o.value/255:o.value/100),i.type!==U&&(a.b=i.type===Q?i.value/255:i.value/100),l.type!==U&&(a.alpha=Math.min(1,Math.max(0,l.type===Q?l.value:l.value/100))),a):void 0},e=>{let r;return(r=e.match($))?z(parseInt(r[1],16),r[1].length):void 0},e=>{let r,a={mode:"rgb"};if(r=e.match(R))void 0!==r[1]&&(a.r=r[1]/255),void 0!==r[2]&&(a.g=r[2]/255),void 0!==r[3]&&(a.b=r[3]/255);else{if(!(r=e.match(A)))return;void 0!==r[1]&&(a.r=r[1]/100),void 0!==r[2]&&(a.g=r[2]/100),void 0!==r[3]&&(a.b=r[3]/100)}return void 0!==r[4]?a.alpha=Math.max(0,Math.min(1,r[4]/100)):void 0!==r[5]&&(a.alpha=Math.max(0,Math.min(1,+r[5]))),a},e=>z(k[e.toLowerCase()],6),e=>"transparent"===e?{mode:"rgb",r:0,g:0,b:0,alpha:0}:void 0,"srgb"],serialize:"srgb",interpolate:{r:re,g:re,b:re,alpha:{use:re,fixup:ae}},gamut:1,white:{r:1,g:1,b:1},black:{r:0,g:0,b:0}},oe=(e=0)=>Math.pow(Math.abs(e),563/256)*Math.sign(e),ie=e=>{let r=oe(e.r),a=oe(e.g),t=oe(e.b),o={mode:"xyz65",x:.5766690429101305*r+.1855582379065463*a+.1882286462349947*t,y:.297344975250536*r+.6273635662554661*a+.0752914584939979*t,z:.0270313613864123*r+.0706888525358272*a+.9913375368376386*t};return void 0!==e.alpha&&(o.alpha=e.alpha),o},le=e=>Math.pow(Math.abs(e),256/563)*Math.sign(e),de=({x:e,y:r,z:a,alpha:t})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===a&&(a=0);let o={mode:"a98",r:le(2.0415879038107465*e-.5650069742788597*r-.3447313507783297*a),g:le(-.9692436362808798*e+1.8759675015077206*r+.0415550574071756*a),b:le(.0134442806320312*e-.1183623922310184*r+1.0151749943912058*a)};return void 0!==t&&(o.alpha=t),o},ne=(e=0)=>{const r=Math.abs(e);return r>.04045?(Math.sign(e)||1)*Math.pow((r+.055)/1.055,2.4):e/12.92},he=({r:e,g:r,b:a,alpha:t})=>{let o={mode:"lrgb",r:ne(e),g:ne(r),b:ne(a)};return void 0!==t&&(o.alpha=t),o},ue=e=>{let{r,g:a,b:t,alpha:o}=he(e),i={mode:"xyz65",x:.4123907992659593*r+.357584339383878*a+.1804807884018343*t,y:.2126390058715102*r+.715168678767756*a+.0721923153607337*t,z:.0193308187155918*r+.119194779794626*a+.9505321522496607*t};return void 0!==o&&(i.alpha=o),i},se=(e=0)=>{const r=Math.abs(e);return r>.0031308?(Math.sign(e)||1)*(1.055*Math.pow(r,1/2.4)-.055):12.92*e},ve=({r:e,g:r,b:a,alpha:t},o="rgb")=>{let i={mode:o,r:se(e),g:se(r),b:se(a)};return void 0!==t&&(i.alpha=t),i},be=({x:e,y:r,z:a,alpha:t})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===a&&(a=0);let o=ve({r:3.2409699419045226*e-1.537383177570094*r-.4986107602930034*a,g:-.9692436362808796*e+1.8759675015077204*r+.0415550574071756*a,b:.0556300796969936*e-.2039769588889765*r+1.0569715142428784*a});return void 0!==t&&(o.alpha=t),o},ge={...te,mode:"a98",parse:["a98-rgb"],serialize:"a98-rgb",fromMode:{rgb:e=>de(ue(e)),xyz65:de},toMode:{rgb:e=>be(ie(e)),xyz65:ie}},Me=e=>0>(e%=360)?e+360:e,pe=e=>{return(r=e).map(((e,a,t)=>{if(void 0===e)return e;let o=Me(e);return 0===a||void 0===r[a-1]?o:(i=o-Me(t[a-1]),Math.abs(i)>180?i-360*Math.sign(i):i);var i})).reduce(((e,r)=>e.length&&void 0!==r&&void 0!==e[e.length-1]?(e.push(r+e[e.length-1]),e):(e.push(r),e)),[]);var r},fe=[-.14861,1.78277,-.29227,-.90649,1.97294,0],ce=Math.PI/180,me=180/Math.PI;let ye=fe[3]*fe[4],xe=fe[1]*fe[4],ze=-.6557636667999999;const ke=(e,r)=>{if(void 0===e.h||void 0===r.h||!e.s||!r.s)return 0;let a=Me(e.h),t=Me(r.h),o=Math.sin((t-a+360)/2*Math.PI/180);return 2*Math.sqrt(e.s*r.s)*o},$e=(e,r)=>{if(void 0===e.h||void 0===r.h||!e.c||!r.c)return 0;let a=Me(e.h),t=Me(r.h),o=Math.sin((t-a+360)/2*Math.PI/180);return 2*Math.sqrt(e.c*r.c)*o},we=e=>{let r=e.reduce(((e,r)=>{if(void 0!==r){let a=r*Math.PI/180;e.sin+=Math.sin(a),e.cos+=Math.cos(a)}return e}),{sin:0,cos:0}),a=180*Math.atan2(r.sin,r.cos)/Math.PI;return 0>a?360+a:a},je={mode:"cubehelix",channels:["h","s","l","alpha"],parse:["--cubehelix"],serialize:"--cubehelix",ranges:{h:[0,360],s:[0,4.614],l:[0,1]},fromMode:{rgb({r:e,g:r,b:a,alpha:t}){void 0===e&&(e=0),void 0===r&&(r=0),void 0===a&&(a=0);let o=(ze*a+e*ye-r*xe)/(ze+ye-xe),i=a-o,l=(fe[4]*(r-o)-fe[2]*i)/fe[3],d={mode:"cubehelix",l:o,s:0===o||1===o?void 0:Math.sqrt(i*i+l*l)/(fe[4]*o*(1-o))};return d.s&&(d.h=Math.atan2(l,i)*me-120),void 0!==t&&(d.alpha=t),d}},toMode:{rgb({h:e,s:r,l:a,alpha:t}){let o={mode:"rgb"};void 0===a&&(a=0);let i=void 0===r?0:r*a*(1-a),l=Math.cos(e=(void 0===e?0:e+120)*ce),d=Math.sin(e);return o.r=a+i*(fe[0]*l+fe[1]*d),o.g=a+i*(fe[2]*l+fe[3]*d),o.b=a+i*(fe[4]*l+0*d),void 0!==t&&(o.alpha=t),o}},interpolate:{h:{use:re,fixup:pe},s:re,l:re,alpha:{use:re,fixup:ae}},difference:{h:ke},average:{h:we}},qe=({l:e,a:r,b:a,alpha:t},o="lch")=>{void 0===r&&(r=0),void 0===a&&(a=0);let i=Math.sqrt(r*r+a*a),l={mode:o,l:e,c:i};return i&&(l.h=Me(180*Math.atan2(a,r)/Math.PI)),void 0!==t&&(l.alpha=t),l},Ee=({l:e,c:r,h:a,alpha:t},o="lab")=>{void 0===a&&(a=0);let i={mode:o,l:e,a:r?r*Math.cos(a/180*Math.PI):0,b:r?r*Math.sin(a/180*Math.PI):0};return void 0!==t&&(i.alpha=t),i},Fe=24389/27,Re=216/24389,Ae=.3457/.3585,Ie=.2958/.3585,Oe=.3127/.329,Ze=.3583/.329;let _e=e=>Math.pow(e,3)>Re?Math.pow(e,3):(116*e-16)/Fe;const Be=({l:e,a:r,b:a,alpha:t})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===a&&(a=0);let o=(e+16)/116,i=o-a/200,l={mode:"xyz65",x:_e(r/500+o)*Oe,y:1*_e(o),z:_e(i)*Ze};return void 0!==t&&(l.alpha=t),l},Ce=e=>be(Be(e)),De=e=>e>Re?Math.cbrt(e):(Fe*e+16)/116,Ge=({x:e,y:r,z:a,alpha:t})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===a&&(a=0);let o=De(e/Oe),i=De(r/1),l={mode:"lab65",l:116*i-16,a:500*(o-i),b:200*(i-De(a/Ze))};return void 0!==t&&(l.alpha=t),l},He=e=>{let r=Ge(ue(e));return e.r===e.b&&e.b===e.g&&(r.a=r.b=0),r},Je=26/180*Math.PI,Ke=Math.cos(Je),Le=Math.sin(Je),Ne=303.67100547050995,Pe=({l:e,c:r,h:a,alpha:t})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===a&&(a=0);let o={mode:"lab65",l:(Math.exp(1*e/Ne)-1)/.0039},i=(Math.exp(.0435*r)-1)/.075,l=i*Math.cos(a/180*Math.PI-Je),d=i*Math.sin(a/180*Math.PI-Je);return o.a=l*Ke-d/.83*Le,o.b=l*Le+d/.83*Ke,void 0!==t&&(o.alpha=t),o},Qe=({l:e,a:r,b:a,alpha:t})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===a&&(a=0);let o=r*Ke+a*Le,i=.83*(a*Ke-r*Le),l=Math.sqrt(o*o+i*i),d={mode:"dlch",l:Ne/1*Math.log(1+.0039*e),c:Math.log(1+.075*l)/.0435};return d.c&&(d.h=Me((Math.atan2(i,o)+Je)/Math.PI*180)),void 0!==t&&(d.alpha=t),d},Se=e=>Pe(qe(e,"dlch")),Te=e=>Ee(Qe(e),"dlab"),Ue={mode:"dlab",parse:["--din99o-lab"],serialize:"--din99o-lab",toMode:{lab65:Se,rgb:e=>Ce(Se(e))},fromMode:{lab65:Te,rgb:e=>Te(He(e))},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-40.09,45.501],b:[-40.469,44.344]},interpolate:{l:re,a:re,b:re,alpha:{use:re,fixup:ae}}},Ve={mode:"dlch",parse:["--din99o-lch"],serialize:"--din99o-lch",toMode:{lab65:Pe,dlab:e=>Ee(e,"dlab"),rgb:e=>Ce(Pe(e))},fromMode:{lab65:Qe,dlab:e=>qe(e,"dlch"),rgb:e=>Qe(He(e))},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,51.484],h:[0,360]},interpolate:{l:re,c:re,h:{use:re,fixup:pe},alpha:{use:re,fixup:ae}},difference:{h:$e},average:{h:we}},We={mode:"hsi",toMode:{rgb({h:e,s:r,i:a,alpha:t}){e=Me(void 0!==e?e:0),void 0===r&&(r=0),void 0===a&&(a=0);let o,i=Math.abs(e/60%2-1);switch(Math.floor(e/60)){case 0:o={r:a*(1+r*(3/(2-i)-1)),g:a*(1+r*(3*(1-i)/(2-i)-1)),b:a*(1-r)};break;case 1:o={r:a*(1+r*(3*(1-i)/(2-i)-1)),g:a*(1+r*(3/(2-i)-1)),b:a*(1-r)};break;case 2:o={r:a*(1-r),g:a*(1+r*(3/(2-i)-1)),b:a*(1+r*(3*(1-i)/(2-i)-1))};break;case 3:o={r:a*(1-r),g:a*(1+r*(3*(1-i)/(2-i)-1)),b:a*(1+r*(3/(2-i)-1))};break;case 4:o={r:a*(1+r*(3*(1-i)/(2-i)-1)),g:a*(1-r),b:a*(1+r*(3/(2-i)-1))};break;case 5:o={r:a*(1+r*(3/(2-i)-1)),g:a*(1-r),b:a*(1+r*(3*(1-i)/(2-i)-1))};break;default:o={r:a*(1-r),g:a*(1-r),b:a*(1-r)}}return o.mode="rgb",void 0!==t&&(o.alpha=t),o}},parse:["--hsi"],serialize:"--hsi",fromMode:{rgb({r:e,g:r,b:a,alpha:t}){void 0===e&&(e=0),void 0===r&&(r=0),void 0===a&&(a=0);let o=Math.max(e,r,a),i=Math.min(e,r,a),l={mode:"hsi",s:e+r+a===0?0:1-3*i/(e+r+a),i:(e+r+a)/3};return o-i!=0&&(l.h=60*(o===e?(r-a)/(o-i)+6*(a>r):o===r?(a-e)/(o-i)+2:(e-r)/(o-i)+4)),void 0!==t&&(l.alpha=t),l}},channels:["h","s","i","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:re,fixup:pe},s:re,i:re,alpha:{use:re,fixup:ae}},difference:{h:ke},average:{h:we}},Xe=RegExp(`^hsla?\\(\\s*${E}${F}${j}${F}${j}\\s*(?:,\\s*${q}\\s*)?\\)$`),Ye={mode:"hsl",toMode:{rgb({h:e,s:r,l:a,alpha:t}){e=Me(void 0!==e?e:0),void 0===r&&(r=0),void 0===a&&(a=0);let o,i=a+r*(.5>a?a:1-a),l=i-2*(i-a)*Math.abs(e/60%2-1);switch(Math.floor(e/60)){case 0:o={r:i,g:l,b:2*a-i};break;case 1:o={r:l,g:i,b:2*a-i};break;case 2:o={r:2*a-i,g:i,b:l};break;case 3:o={r:2*a-i,g:l,b:i};break;case 4:o={r:l,g:2*a-i,b:i};break;case 5:o={r:i,g:2*a-i,b:l};break;default:o={r:2*a-i,g:2*a-i,b:2*a-i}}return o.mode="rgb",void 0!==t&&(o.alpha=t),o}},fromMode:{rgb({r:e,g:r,b:a,alpha:t}){void 0===e&&(e=0),void 0===r&&(r=0),void 0===a&&(a=0);let o=Math.max(e,r,a),i=Math.min(e,r,a),l={mode:"hsl",s:o===i?0:(o-i)/(1-Math.abs(o+i-1)),l:.5*(o+i)};return o-i!=0&&(l.h=60*(o===e?(r-a)/(o-i)+6*(a>r):o===r?(a-e)/(o-i)+2:(e-r)/(o-i)+4)),void 0!==t&&(l.alpha=t),l}},channels:["h","s","l","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[(e,r)=>{if(!r||"hsl"!==r[0]&&"hsla"!==r[0])return;const a={mode:"hsl"},[,t,o,i,l]=r;if(t.type!==U){if(t.type===S)return;a.h=t.value}if(o.type!==U){if(o.type===V)return;a.s=o.value/100}if(i.type!==U){if(i.type===V)return;a.l=i.value/100}return l.type!==U&&(a.alpha=Math.min(1,Math.max(0,l.type===Q?l.value:l.value/100))),a},e=>{let r=e.match(Xe);if(!r)return;let a={mode:"hsl"};return void 0!==r[3]?a.h=+r[3]:void 0!==r[1]&&void 0!==r[2]&&(a.h=((e,r)=>{switch(r){case"deg":return+e;case"rad":return e/Math.PI*180;case"grad":return e/10*9;case"turn":return 360*e}})(r[1],r[2])),void 0!==r[4]&&(a.s=Math.min(Math.max(0,r[4]/100),1)),void 0!==r[5]&&(a.l=Math.min(Math.max(0,r[5]/100),1)),void 0!==r[6]?a.alpha=Math.max(0,Math.min(1,r[6]/100)):void 0!==r[7]&&(a.alpha=Math.max(0,Math.min(1,+r[7]))),a}],serialize:e=>`hsl(${void 0!==e.h?e.h:"none"} ${void 0!==e.s?100*e.s+"%":"none"} ${void 0!==e.l?100*e.l+"%":"none"}${1>e.alpha?" / "+e.alpha:""})`,interpolate:{h:{use:re,fixup:pe},s:re,l:re,alpha:{use:re,fixup:ae}},difference:{h:ke},average:{h:we}},er={mode:"hsv",toMode:{rgb:d},parse:["--hsv"],serialize:"--hsv",fromMode:{rgb:n},channels:["h","s","v","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:re,fixup:pe},s:re,v:re,alpha:{use:re,fixup:ae}},difference:{h:ke},average:{h:we}},rr={mode:"hwb",toMode:{rgb({h:e,w:r,b:a,alpha:t}){if(void 0===r&&(r=0),void 0===a&&(a=0),r+a>1){let e=r+a;r/=e,a/=e}return d({h:e,s:1===a?1:1-r/(1-a),v:1-a,alpha:t})}},fromMode:{rgb(e){let r=n(e);if(void 0===r)return;let a=void 0!==r.v?r.v:0,t={mode:"hwb",w:(1-(void 0!==r.s?r.s:0))*a,b:1-a};return void 0!==r.h&&(t.h=r.h),void 0!==r.alpha&&(t.alpha=r.alpha),t}},channels:["h","w","b","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[(e,r)=>{if(!r||"hwb"!==r[0])return;const a={mode:"hwb"},[,t,o,i,l]=r;if(t.type!==U){if(t.type===S)return;a.h=t.value}if(o.type!==U){if(o.type===V)return;a.w=o.value/100}if(i.type!==U){if(i.type===V)return;a.b=i.value/100}return l.type!==U&&(a.alpha=Math.min(1,Math.max(0,l.type===Q?l.value:l.value/100))),a}],serialize:e=>`hwb(${void 0!==e.h?e.h:"none"} ${void 0!==e.w?100*e.w+"%":"none"} ${void 0!==e.b?100*e.b+"%":"none"}${1>e.alpha?" / "+e.alpha:""})`,interpolate:{h:{use:re,fixup:pe},w:re,b:re,alpha:{use:re,fixup:ae}},difference:{h(e,r){if(void 0===e.h||void 0===r.h)return 0;let a=Me(e.h),t=Me(r.h);return Math.abs(t-a)>180?a-(t-360*Math.sign(t-a)):t-a}},average:{h:we}},ar=.1593017578125,tr=78.84375,or=.8359375,ir=18.8515625,lr=18.6875,dr=e=>Math.max(e/203,0),nr=({i:e,t:r,p:a,alpha:t})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===a&&(a=0);const o=h(e+.008609037037932761*r+.11102962500302593*a),i=h(e-.00860903703793275*r-.11102962500302599*a),l=h(e+.5600313357106791*r-.32062717498731885*a),d={mode:"xyz65",x:dr(2.070152218389422*o-1.3263473389671556*i+.2066510476294051*l),y:dr(.3647385209748074*o+.680566024947227*i-.0453045459220346*l),z:dr(-.049747207535812*o-.0492609666966138*i+1.1880659249923042*l)};return void 0!==t&&(d.alpha=t),d},hr=(e=0)=>Math.max(203*e,0),ur=({x:e,y:r,z:a,alpha:t})=>{const o=hr(e),i=hr(r),l=hr(a),d=u(.3592832590121217*o+.6976051147779502*i-.0358915932320289*l),n=u(-.1920808463704995*o+1.1004767970374323*i+.0753748658519118*l),h=u(.0070797844607477*o+.0748396662186366*i+.8433265453898765*l),s={mode:"itp",i:.5*d+.5*n,t:1.61376953125*d-3.323486328125*n+1.709716796875*h,p:4.378173828125*d-4.24560546875*n-.132568359375*h};return void 0!==t&&(s.alpha=t),s},sr={mode:"itp",channels:["i","t","p","alpha"],parse:["--ictcp"],serialize:"--ictcp",toMode:{xyz65:nr,rgb:e=>be(nr(e))},fromMode:{xyz65:ur,rgb:e=>ur(ue(e))},ranges:{i:[0,.581],t:[-.369,.272],p:[-.164,.331]},interpolate:{i:re,t:re,p:re,alpha:{use:re,fixup:ae}}},vr=e=>{if(0>e)return 0;let r=Math.pow(e/1e4,ar);return Math.pow((or+ir*r)/(1+lr*r),134.03437499999998)},br=(e=0)=>Math.max(203*e,0),gr=({x:e,y:r,z:a,alpha:t})=>{e=br(e),r=br(r);let o=1.15*e-.15*(a=br(a)),i=.66*r+.34*e,l=vr(.41478972*o+.579999*i+.014648*a),d=vr(-.20151*o+1.120649*i+.0531008*a),n=vr(-.0166008*o+.2648*i+.6684799*a),h=(l+d)/2,u={mode:"jab",j:.44*h/(1-.56*h)-16295499532821565e-27,a:3.524*l-4.066708*d+.542708*n,b:.199076*l+1.096799*d-1.295875*n};return void 0!==t&&(u.alpha=t),u},Mr=16295499532821565e-27,pr=e=>{if(0>e)return 0;let r=Math.pow(e,.007460772656268216);return 1e4*Math.pow((or-r)/(lr*r-ir),1/ar)},fr=e=>e/203,cr=({j:e,a:r,b:a,alpha:t})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===a&&(a=0);let o=(e+Mr)/(.44+.56*(e+Mr)),i=pr(o+.13860504*r+.058047316*a),l=pr(o-.13860504*r-.058047316*a),d=pr(o-.096019242*r-.8118919*a),n={mode:"xyz65",x:fr(1.661373024652174*i-.914523081304348*l+.23136208173913045*d),y:fr(-.3250758611844533*i+1.571847026732543*l-.21825383453227928*d),z:fr(-.090982811*i-.31272829*l+1.5227666*d)};return void 0!==t&&(n.alpha=t),n},mr=e=>{let r=gr(ue(e));return e.r===e.b&&e.b===e.g&&(r.a=r.b=0),r},yr=e=>be(cr(e)),xr={mode:"jab",channels:["j","a","b","alpha"],parse:["--jzazbz"],serialize:"--jzazbz",fromMode:{rgb:mr,xyz65:gr},toMode:{rgb:yr,xyz65:cr},ranges:{j:[0,.222],a:[-.109,.129],b:[-.185,.134]},interpolate:{j:re,a:re,b:re,alpha:{use:re,fixup:ae}}},zr=({j:e,a:r,b:a,alpha:t})=>{void 0===r&&(r=0),void 0===a&&(a=0);let o=Math.sqrt(r*r+a*a),i={mode:"jch",j:e,c:o};return o&&(i.h=Me(180*Math.atan2(a,r)/Math.PI)),void 0!==t&&(i.alpha=t),i},kr=({j:e,c:r,h:a,alpha:t})=>{void 0===a&&(a=0);let o={mode:"jab",j:e,a:r?r*Math.cos(a/180*Math.PI):0,b:r?r*Math.sin(a/180*Math.PI):0};return void 0!==t&&(o.alpha=t),o},$r={mode:"jch",parse:["--jzczhz"],serialize:"--jzczhz",toMode:{jab:kr,rgb:e=>yr(kr(e))},fromMode:{rgb:e=>zr(mr(e)),jab:zr},channels:["j","c","h","alpha"],ranges:{j:[0,.221],c:[0,.19],h:[0,360]},interpolate:{h:{use:re,fixup:pe},c:re,j:re,alpha:{use:re,fixup:ae}},difference:{h:$e},average:{h:we}},wr=24389/27,jr=216/24389;let qr=e=>Math.pow(e,3)>jr?Math.pow(e,3):(116*e-16)/wr;const Er=({l:e,a:r,b:a,alpha:t})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===a&&(a=0);let o=(e+16)/116,i=o-a/200,l={mode:"xyz50",x:qr(r/500+o)*Ae,y:1*qr(o),z:qr(i)*Ie};return void 0!==t&&(l.alpha=t),l},Fr=({x:e,y:r,z:a,alpha:t})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===a&&(a=0);let o=ve({r:3.1341359569958707*e-1.6173863321612538*r-.4906619460083532*a,g:-.978795502912089*e+1.916254567259524*r+.03344273116131949*a,b:.07195537988411677*e-.2289768264158322*r+1.405386058324125*a});return void 0!==t&&(o.alpha=t),o},Rr=e=>Fr(Er(e)),Ar=e=>{let{r,g:a,b:t,alpha:o}=he(e),i={mode:"xyz50",x:.436065742824811*r+.3851514688337912*a+.14307845442264197*t,y:.22249319175623702*r+.7168870538238823*a+.06061979053616537*t,z:.013923904500943465*r+.09708128566574634*a+.7140993584005155*t};return void 0!==o&&(i.alpha=o),i},Ir=e=>e>jr?Math.cbrt(e):(wr*e+16)/116,Or=({x:e,y:r,z:a,alpha:t})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===a&&(a=0);let o=Ir(e/Ae),i=Ir(r/1),l={mode:"lab",l:116*i-16,a:500*(o-i),b:200*(i-Ir(a/Ie))};return void 0!==t&&(l.alpha=t),l},Zr=e=>{let r=Or(Ar(e));return e.r===e.b&&e.b===e.g&&(r.a=r.b=0),r},_r={mode:"lab",toMode:{xyz50:Er,rgb:Rr},fromMode:{xyz50:Or,rgb:Zr},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-100,100],b:[-100,100]},parse:[(e,r)=>{if(!r||"lab"!==r[0])return;const a={mode:"lab"},[,t,o,i,l]=r;return t.type!==V&&o.type!==V&&i.type!==V?(t.type!==U&&(a.l=Math.min(Math.max(0,t.value),100)),o.type!==U&&(a.a=o.type===Q?o.value:125*o.value/100),i.type!==U&&(a.b=i.type===Q?i.value:125*i.value/100),l.type!==U&&(a.alpha=Math.min(1,Math.max(0,l.type===Q?l.value:l.value/100))),a):void 0}],serialize:e=>`lab(${void 0!==e.l?e.l:"none"} ${void 0!==e.a?e.a:"none"} ${void 0!==e.b?e.b:"none"}${1>e.alpha?" / "+e.alpha:""})`,interpolate:{l:re,a:re,b:re,alpha:{use:re,fixup:ae}}},Br={..._r,mode:"lab65",parse:["--lab-d65"],serialize:"--lab-d65",toMode:{xyz65:Be,rgb:Ce},fromMode:{xyz65:Ge,rgb:He},ranges:{l:[0,100],a:[-86.182,98.234],b:[-107.86,94.477]}},Cr={mode:"lch",toMode:{lab:Ee,rgb:e=>Rr(Ee(e))},fromMode:{rgb:e=>qe(Zr(e)),lab:qe},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,150],h:[0,360]},parse:[(e,r)=>{if(!r||"lch"!==r[0])return;const a={mode:"lch"},[,t,o,i,l]=r;if(t.type!==U){if(t.type===V)return;a.l=Math.min(Math.max(0,t.value),100)}if(o.type!==U&&(a.c=Math.max(0,o.type===Q?o.value:150*o.value/100)),i.type!==U){if(i.type===S)return;a.h=i.value}return l.type!==U&&(a.alpha=Math.min(1,Math.max(0,l.type===Q?l.value:l.value/100))),a}],serialize:e=>`lch(${void 0!==e.l?e.l:"none"} ${void 0!==e.c?e.c:"none"} ${void 0!==e.h?e.h:"none"}${1>e.alpha?" / "+e.alpha:""})`,interpolate:{h:{use:re,fixup:pe},c:re,l:re,alpha:{use:re,fixup:ae}},difference:{h:$e},average:{h:we}},Dr={...Cr,mode:"lch65",parse:["--lch-d65"],serialize:"--lch-d65",toMode:{lab65:e=>Ee(e,"lab65"),rgb:e=>Ce(Ee(e,"lab65"))},fromMode:{rgb:e=>qe(He(e),"lch65"),lab65:e=>qe(e,"lch65")},ranges:{l:[0,100],c:[0,133.807],h:[0,360]}},Gr=({l:e,u:r,v:a,alpha:t})=>{void 0===r&&(r=0),void 0===a&&(a=0);let o=Math.sqrt(r*r+a*a),i={mode:"lchuv",l:e,c:o};return o&&(i.h=Me(180*Math.atan2(a,r)/Math.PI)),void 0!==t&&(i.alpha=t),i},Hr=({l:e,c:r,h:a,alpha:t})=>{void 0===a&&(a=0);let o={mode:"luv",l:e,u:r?r*Math.cos(a/180*Math.PI):0,v:r?r*Math.sin(a/180*Math.PI):0};return void 0!==t&&(o.alpha=t),o},Jr=(e,r,a)=>4*e/(e+15*r+3*a),Kr=(e,r,a)=>9*r/(e+15*r+3*a),Lr=Jr(Ae,1,Ie),Nr=Kr(Ae,1,Ie),Pr=({x:e,y:r,z:a,alpha:t})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===a&&(a=0);let o=(i=r/1)>jr?116*Math.cbrt(i)-16:wr*i;var i;let l=Jr(e,r,a),d=Kr(e,r,a);isFinite(l)&&isFinite(d)?(l=13*o*(l-Lr),d=13*o*(d-Nr)):o=l=d=0;let n={mode:"luv",l:o,u:l,v:d};return void 0!==t&&(n.alpha=t),n},Qr=4*(x=Ae)/(x+15+3*Ie),Sr=({l:e,u:r,v:a,alpha:t})=>{if(void 0===e&&(e=0),0===e)return{mode:"xyz50",x:0,y:0,z:0};void 0===r&&(r=0),void 0===a&&(a=0);let o=r/(13*e)+Qr,i=a/(13*e)+.4880797507034157,l=1*(e>8?Math.pow((e+16)/116,3):e/wr),d={mode:"xyz50",x:9*l*o/(4*i),y:l,z:l*(12-3*o-20*i)/(4*i)};return void 0!==t&&(d.alpha=t),d},Tr={mode:"lchuv",toMode:{luv:Hr,rgb:e=>Fr(Sr(Hr(e)))},fromMode:{rgb:e=>Gr(Pr(Ar(e))),luv:Gr},channels:["l","c","h","alpha"],parse:["--lchuv"],serialize:"--lchuv",ranges:{l:[0,100],c:[0,176.956],h:[0,360]},interpolate:{h:{use:re,fixup:pe},c:re,l:re,alpha:{use:re,fixup:ae}},difference:{h:$e},average:{h:we}},Ur={...te,mode:"lrgb",toMode:{rgb:ve},fromMode:{rgb:he},parse:["srgb-linear"],serialize:"srgb-linear"},Vr={mode:"luv",toMode:{xyz50:Sr,rgb:e=>Fr(Sr(e))},fromMode:{xyz50:Pr,rgb:e=>Pr(Ar(e))},channels:["l","u","v","alpha"],parse:["--luv"],serialize:"--luv",ranges:{l:[0,100],u:[-84.936,175.042],v:[-125.882,87.243]},interpolate:{l:re,u:re,v:re,alpha:{use:re,fixup:ae}}},Wr=({r:e,g:r,b:a,alpha:t})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===a&&(a=0);let o=Math.cbrt(.41222147079999993*e+.5363325363*r+.0514459929*a),i=Math.cbrt(.2119034981999999*e+.6806995450999999*r+.1073969566*a),l=Math.cbrt(.08830246189999998*e+.2817188376*r+.6299787005000002*a),d={mode:"oklab",l:.2104542553*o+.793617785*i-.0040720468*l,a:1.9779984951*o-2.428592205*i+.4505937099*l,b:.0259040371*o+.7827717662*i-.808675766*l};return void 0!==t&&(d.alpha=t),d},Xr=e=>{let r=Wr(he(e));return e.r===e.b&&e.b===e.g&&(r.a=r.b=0),r},Yr=({l:e,a:r,b:a,alpha:t})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===a&&(a=0);let o=Math.pow(.9999999984505198*e+.39633779217376786*r+.2158037580607588*a,3),i=Math.pow(1.0000000088817609*e-.10556134232365635*r-.06385417477170591*a,3),l=Math.pow(1.0000000546724108*e-.08948418209496575*r-1.2914855378640917*a,3),d={mode:"lrgb",r:4.076741661347994*o-3.307711590408193*i+.230969928729428*l,g:-1.2684380040921763*o+2.6097574006633715*i-.3413193963102197*l,b:-.004196086541837188*o-.7034186144594493*i+1.7076147009309444*l};return void 0!==t&&(d.alpha=t),d},ea=e=>ve(Yr(e)),ra={...Ye,mode:"okhsl",channels:["h","s","l","alpha"],parse:["--okhsl"],serialize:"--okhsl",fromMode:{oklab:p,rgb:e=>p(Xr(e))},toMode:{oklab:f,rgb:e=>ea(f(e))}},aa={...er,mode:"okhsv",channels:["h","s","v","alpha"],parse:["--okhsv"],serialize:"--okhsv",fromMode:{oklab:c,rgb:e=>c(Xr(e))},toMode:{oklab:m,rgb:e=>ea(m(e))}},ta={..._r,mode:"oklab",toMode:{lrgb:Yr,rgb:ea},fromMode:{lrgb:Wr,rgb:Xr},ranges:{l:[0,1],a:[-.4,.4],b:[-.4,.4]},parse:[(e,r)=>{if(!r||"oklab"!==r[0])return;const a={mode:"oklab"},[,t,o,i,l]=r;return t.type!==V&&o.type!==V&&i.type!==V?(t.type!==U&&(a.l=Math.min(Math.max(0,t.type===Q?t.value:t.value/100),1)),o.type!==U&&(a.a=o.type===Q?o.value:.4*o.value/100),i.type!==U&&(a.b=i.type===Q?i.value:.4*i.value/100),l.type!==U&&(a.alpha=Math.min(1,Math.max(0,l.type===Q?l.value:l.value/100))),a):void 0}],serialize:e=>`oklab(${void 0!==e.l?e.l:"none"} ${void 0!==e.a?e.a:"none"} ${void 0!==e.b?e.b:"none"}${1>e.alpha?" / "+e.alpha:""})`},oa={...Cr,mode:"oklch",toMode:{oklab:e=>Ee(e,"oklab"),rgb:e=>ea(Ee(e,"oklab"))},fromMode:{rgb:e=>qe(Xr(e),"oklch"),oklab:e=>qe(e,"oklch")},parse:[(e,r)=>{if(!r||"oklch"!==r[0])return;const a={mode:"oklch"},[,t,o,i,l]=r;if(t.type!==U){if(t.type===V)return;a.l=Math.min(Math.max(0,t.type===Q?t.value:t.value/100),1)}if(o.type!==U&&(a.c=Math.max(0,o.type===Q?o.value:.4*o.value/100)),i.type!==U){if(i.type===S)return;a.h=i.value}return l.type!==U&&(a.alpha=Math.min(1,Math.max(0,l.type===Q?l.value:l.value/100))),a}],serialize:e=>`oklch(${void 0!==e.l?e.l:"none"} ${void 0!==e.c?e.c:"none"} ${void 0!==e.h?e.h:"none"}${1>e.alpha?" / "+e.alpha:""})`,ranges:{l:[0,1],c:[0,.4],h:[0,360]}},ia=e=>{let{r,g:a,b:t,alpha:o}=he(e),i={mode:"xyz65",x:.486570948648216*r+.265667693169093*a+.1982172852343625*t,y:.2289745640697487*r+.6917385218365062*a+.079286914093745*t,z:0*r+.0451133818589026*a+1.043944368900976*t};return void 0!==o&&(i.alpha=o),i},la=({x:e,y:r,z:a,alpha:t})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===a&&(a=0);let o=ve({r:2.4934969119414263*e-.9313836179191242*r-.402710784450717*a,g:-.8294889695615749*e+1.7626640603183465*r+.0236246858419436*a,b:.0358458302437845*e-.0761723892680418*r+.9568845240076871*a},"p3");return void 0!==t&&(o.alpha=t),o},da={...te,mode:"p3",parse:["display-p3"],serialize:"display-p3",fromMode:{rgb:e=>la(ue(e)),xyz65:la},toMode:{rgb:e=>be(ia(e)),xyz65:ia}},na=e=>{let r=Math.abs(e);return 1/512>r?16*e:Math.sign(e)*Math.pow(r,1/1.8)},ha=({x:e,y:r,z:a,alpha:t})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===a&&(a=0);let o={mode:"prophoto",r:na(1.3457868816471585*e-.2555720873797946*r-.0511018649755453*a),g:na(-.5446307051249019*e+1.5082477428451466*r+.0205274474364214*a),b:na(0*e+0*r+1.2119675456389452*a)};return void 0!==t&&(o.alpha=t),o},ua=(e=0)=>{let r=Math.abs(e);return 16/512>r?e/16:Math.sign(e)*Math.pow(r,1.8)},sa=e=>{let r=ua(e.r),a=ua(e.g),t=ua(e.b),o={mode:"xyz50",x:.7977666449006423*r+.1351812974005331*a+.0313477341283922*t,y:.2880748288194013*r+.7118352342418731*a+899369387256e-16*t,z:0*r+0*a+.8251046025104602*t};return void 0!==e.alpha&&(o.alpha=e.alpha),o},va={...te,mode:"prophoto",parse:["prophoto-rgb"],serialize:"prophoto-rgb",fromMode:{xyz50:ha,rgb:e=>ha(Ar(e))},toMode:{xyz50:sa,rgb:e=>Fr(sa(e))}},ba=1.09929682680944,ga=e=>{const r=Math.abs(e);return r>.018053968510807?(Math.sign(e)||1)*(ba*Math.pow(r,.45)-(ba-1)):4.5*e},Ma=({x:e,y:r,z:a,alpha:t})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===a&&(a=0);let o={mode:"rec2020",r:ga(1.7166511879712683*e-.3556707837763925*r-.2533662813736599*a),g:ga(-.6666843518324893*e+1.6164812366349395*r+.0157685458139111*a),b:ga(.0176398574453108*e-.0427706132578085*r+.9421031212354739*a)};return void 0!==t&&(o.alpha=t),o},pa=1.09929682680944,fa=(e=0)=>{let r=Math.abs(e);return.08124285829863151>r?e/4.5:(Math.sign(e)||1)*Math.pow((r+pa-1)/pa,1/.45)},ca=e=>{let r=fa(e.r),a=fa(e.g),t=fa(e.b),o={mode:"xyz65",x:.6369580483012911*r+.1446169035862083*a+.1688809751641721*t,y:.262700212011267*r+.6779980715188708*a+.059301716469862*t,z:0*r+.0280726930490874*a+1.0609850577107909*t};return void 0!==e.alpha&&(o.alpha=e.alpha),o},ma={...te,mode:"rec2020",fromMode:{xyz65:Ma,rgb:e=>Ma(ue(e))},toMode:{xyz65:ca,rgb:e=>be(ca(e))},parse:["rec2020"],serialize:"rec2020"},ya=.0037930732552754493,xa=Math.cbrt(ya),za=e=>Math.cbrt(e)-xa,ka=e=>Math.pow(e+xa,3),$a={mode:"xyb",channels:["x","y","b","alpha"],parse:["--xyb"],serialize:"--xyb",toMode:{rgb({x:e,y:r,b:a,alpha:t}){void 0===e&&(e=0),void 0===r&&(r=0),void 0===a&&(a=0);const o=ka(e+r)-ya,i=ka(r-e)-ya,l=ka(a+r)-ya,d=ve({r:11.031566904639861*o-9.866943908131562*i-.16462299650829934*l,g:-3.2541473810744237*o+4.418770377582723*i-.16462299650829934*l,b:-3.6588512867136815*o+2.7129230459360922*i+1.9459282407775895*l});return void 0!==t&&(d.alpha=t),d}},fromMode:{rgb(e){const{r,g:a,b:t,alpha:o}=he(e),i=za(.3*r+.622*a+.078*t+ya),l=za(.23*r+.692*a+.078*t+ya),d={mode:"xyb",x:(i-l)/2,y:(i+l)/2,b:za(.2434226892454782*r+.2047674442449682*a+.5518098665095535*t+ya)-(i+l)/2};return void 0!==o&&(d.alpha=o),d}},ranges:{x:[-.0154,.0281],y:[0,.8453],b:[-.2778,.388]},interpolate:{x:re,y:re,b:re,alpha:{use:re,fixup:ae}}},wa={mode:"xyz50",parse:["xyz-d50"],serialize:"xyz-d50",toMode:{rgb:Fr,lab:Or},fromMode:{rgb:Ar,lab:Er},channels:["x","y","z","alpha"],ranges:{x:[0,.964],y:[0,.999],z:[0,.825]},interpolate:{x:re,y:re,z:re,alpha:{use:re,fixup:ae}}},ja={mode:"xyz65",toMode:{rgb:be,xyz50(e){let{x:r,y:a,z:t,alpha:o}=e;void 0===r&&(r=0),void 0===a&&(a=0),void 0===t&&(t=0);let i={mode:"xyz50",x:1.0479298208405488*r+.0229467933410191*a-.0501922295431356*t,y:.0296278156881593*r+.990434484573249*a-.0170738250293851*t,z:-.0092430581525912*r+.0150551448965779*a+.7518742899580008*t};return void 0!==o&&(i.alpha=o),i}},fromMode:{rgb:ue,xyz50(e){let{x:r,y:a,z:t,alpha:o}=e;void 0===r&&(r=0),void 0===a&&(a=0),void 0===t&&(t=0);let i={mode:"xyz65",x:.9554734527042182*r-.0230985368742614*a+.0632593086610217*t,y:-.0283697069632081*r+1.0099954580058226*a+.021041398966943*t,z:.0123140016883199*r-.0205076964334779*a+1.3303659366080753*t};return void 0!==o&&(i.alpha=o),i}},ranges:{x:[0,.95],y:[0,1],z:[0,1.088]},channels:["x","y","z","alpha"],parse:["xyz","xyz-d65"],serialize:"xyz-d65",interpolate:{x:re,y:re,z:re,alpha:{use:re,fixup:ae}}},qa={mode:"yiq",toMode:{rgb({y:e,i:r,q:a,alpha:t}){void 0===e&&(e=0),void 0===r&&(r=0),void 0===a&&(a=0);const o={mode:"rgb",r:e+.95608445*r+.6208885*a,g:e-.27137664*r-.6486059*a,b:e-1.10561724*r+1.70250126*a};return void 0!==t&&(o.alpha=t),o}},fromMode:{rgb({r:e,g:r,b:a,alpha:t}){void 0===e&&(e=0),void 0===r&&(r=0),void 0===a&&(a=0);const o={mode:"yiq",y:.29889531*e+.58662247*r+.11448223*a,i:.59597799*e-.2741761*r-.32180189*a,q:.21147017*e-.52261711*r+.31114694*a};return void 0!==t&&(o.alpha=t),o}},channels:["y","i","q","alpha"],parse:["--yiq"],serialize:"--yiq",ranges:{i:[-.595,.595],q:[-.522,.522]},interpolate:{y:re,i:re,q:re,alpha:{use:re,fixup:ae}}},Ea=e=>Math.round(255*(e=>Math.max(0,Math.min(1,e||0)))(e)),Fa=O("rgb"),Ra=e=>{const r=I(e);if(!r)return;const a=H(r.mode);if(!a.serialize||"string"==typeof a.serialize){let e=`color(${a.serialize||"--"+r.mode} `;return a.channels.forEach(((a,t)=>{"alpha"!==a&&(e+=(t?" ":"")+(void 0!==r[a]?r[a]:"none"))})),void 0!==r.alpha&&1>r.alpha&&(e+=" / "+r.alpha),e+")"}return"function"==typeof a.serialize?a.serialize(r):void 0},Aa=e=>(e=>{if(void 0!==e)return"#"+(1<<24|Ea(e.r)<<16|Ea(e.g)<<8|Ea(e.b)).toString(16).slice(1)})(Fa(e)),Ia=e=>"function"==typeof e,Oa=e=>e&&"object"==typeof e,Za=e=>"number"==typeof e,_a=(e,r="rgb",a)=>((e,r="rgb",a)=>{let t=H(r),o=O(r),i=[],l=[],d={};e.forEach((e=>{Array.isArray(e)?(i.push(o(e[0])),l.push(e[1])):Za(e)||Ia(e)?d[l.length]=e:(i.push(o(e)),l.push(void 0))})),(e=>{void 0===e[0]&&(e[0]=0),void 0===e[e.length-1]&&(e[e.length-1]=1);let r,a,t,o,i=1;for(;e.length>i;){if(void 0===e[i]){for(a=i,t=e[i-1],r=i;void 0===e[r];)r++;for(o=(e[r]-t)/(r-i+1);r>i;)e[i]=t+(i+1-a)*o,i++}else e[i-1]>e[i]&&(e[i]=e[i-1]);i++}})(l);let n=t.channels.reduce(((e,r)=>{let o;return o=Oa(a)&&Oa(a[r])&&a[r].fixup?a[r].fixup:Oa(t.interpolate[r])&&t.interpolate[r].fixup?t.interpolate[r].fixup:e=>e,e[r]=o(i.map((e=>e[r]))),e}),{}),h=t.channels.reduce(((e,r)=>{let o;return Ia(a)?o=a:Oa(a)&&Ia(a[r])?o=a[r]:Oa(a)&&Oa(a[r])&&a[r].use?o=a[r].use:Ia(t.interpolate[r])?o=t.interpolate[r]:Oa(t.interpolate[r])&&(o=t.interpolate[r].use),e[r]=o(n[r]),e}),{}),u=i.length-1;return e=>{if(l[0]>=(e=Math.min(Math.max(0,e),1)))return i[0];if(e>l[u])return i[u];let a=0;for(;e>l[a];)a++;let o=l[a-1],n=l[a]-o,s=(e-o)/n,v=d[a]||d[0];void 0!==v&&(Za(v)&&(v=((e=.5)=>r=>e>0?1>e?Math.pow(r,Math.log(.5)/Math.log(e)):0:1)((v-o)/n)),s=v(s));let b=(a-1+s)/u;return t.channels.reduce(((e,r)=>{let a=h[r](b);return void 0!==a&&(e[r]=a),e}),{mode:r})}})(e,r,a);G(ge),G(je),G(Ue),G(Ve),G(We),G(Ye),G(er),G(rr),G(sr),G(xr),G($r),G(_r),G(Br),G(Cr),G(Dr),G(Tr),G(Ur),G(Vr),G(ra),G(aa),G(ta);const Ba=G(oa);G(da),G(va),G(ma),G(te),G($a),G(wa),G(ja),G(qa);export{Aa as a,Ra as f,_a as i,Ba as o,ee as p};