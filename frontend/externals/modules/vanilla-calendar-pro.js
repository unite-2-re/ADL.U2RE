function e(e){if(!e||!e.getBoundingClientRect)return{top:0,bottom:0,left:0,right:0};const t=e.getBoundingClientRect(),n=document.documentElement;return{bottom:t.bottom,right:t.right,top:t.top+window.scrollY-n.clientTop,left:t.left+window.scrollX-n.clientLeft}}function t(){return{vw:Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),vh:Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)}}function n(n,a,o=5){const r={top:1,bottom:1,left:1,right:1},i=[];if(!a||!n)return{canShow:r,parentPositions:i};const{bottom:l,top:s}=(n=>{const{top:a,left:o}={left:window.scrollX||document.documentElement.scrollLeft||0,top:window.scrollY||document.documentElement.scrollTop||0},{top:r,left:i}=e(n),{vh:l,vw:s}=t(),d=r-a,c=i-o;return{top:d,bottom:l-(d+n.clientHeight),left:c,right:s-(c+n.clientWidth)}})(n),{top:d,left:c}=e(n),{height:u,width:v}=a.getBoundingClientRect(),{vh:m,vw:h}=t(),p=h/2,y=m/2;return[{condition:y>d,position:"top"},{condition:d>y,position:"bottom"},{condition:p>c,position:"left"},{condition:c>p,position:"right"}].forEach((({condition:e,position:t})=>{e&&i.push(t)})),Object.assign(r,{top:s-o>=u,bottom:l-o>=u,left:c>=v,right:h-c>=v}),{canShow:r,parentPositions:i}}var a=Object.defineProperty,o=Object.defineProperties,r=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,l={}.hasOwnProperty,s={}.propertyIsEnumerable,d=(e,t,n)=>t in e?a(e,t,{enumerable:1,configurable:1,writable:1,value:n}):e[t]=n,c=(e,t)=>{var n;for(n in t||(t={}))l.call(t,n)&&d(e,n,t[n]);if(i)for(n of i(t))s.call(t,n)&&d(e,n,t[n]);return e},u=(e,t,n)=>(d(e,"symbol"!=typeof t?t+"":t,n),n);const v='The calendar has not been initialized, please initialize it using the "init()" method first.',m="You specified an incorrect language label or did not specify the required number of values \u200b\u200bfor \xablocale.weekdays\xbb or \xablocale.months\xbb.",h="For the \xabmultiple\xbb calendar type, the \xabdisplayMonthsCount\xbb parameter can have a value from 2 to 12, and for all others it cannot be greater than 1.",p=(e,t,n)=>{e.context[t]=n},y=e=>new Date(e+"T00:00:00"),w=e=>`${e.getFullYear()}-${(e.getMonth()+1+"").padStart(2,"0")}-${(e.getDate()+"").padStart(2,"0")}`,f=e=>e.reduce(((e,t)=>(t instanceof Date||"number"==typeof t?e.push((t instanceof Date?t:new Date(t)).toISOString().substring(0,10)):t.match(/^(\d{4}-\d{2}-\d{2})$/g)?e.push(t):t.replace(/(\d{4}-\d{2}-\d{2}).*?(\d{4}-\d{2}-\d{2})/g,((t,n,a)=>{const o=y(n),r=y(a),i=new Date(o.getTime());for(;r>=i;i.setDate(i.getDate()+1))e.push(w(i));return t})),e)),[]),b=(e,t,n,a="")=>{t?e.setAttribute(n,a):e.getAttribute(n)===a&&e.removeAttribute(n)},M=(e,t,n,a,o,r,i)=>{var l,s,d,c;const u=y(e.context.displayDateMin)>y(r)||y(e.context.displayDateMax)<y(r)||(null==(l=e.context.disableDates)?void 0:l.includes(r))||!e.selectionMonthsMode&&"current"!==i||!e.selectionYearsMode&&y(r).getFullYear()!==t;b(n,u,"data-vc-date-disabled"),a&&b(a,u,"aria-disabled","true"),a&&b(a,u,"tabindex","-1"),b(n,!e.disableToday&&e.context.dateToday===r,"data-vc-date-today"),b(n,!e.disableToday&&e.context.dateToday===r,"aria-current","date"),b(n,null==(s=e.selectedWeekends)?void 0:s.includes(o),"data-vc-date-weekend");const v=(null==(d=e.selectedHolidays)?void 0:d[0])?f(e.selectedHolidays):[];if(b(n,v.includes(r),"data-vc-date-holiday"),(null==(c=e.context.selectedDates)?void 0:c.includes(r))?(n.setAttribute("data-vc-date-selected",""),a&&a.setAttribute("aria-selected","true"),e.context.selectedDates.length>1&&"multiple-ranged"===e.selectionDatesMode&&(e.context.selectedDates[0]===r&&e.context.selectedDates[e.context.selectedDates.length-1]===r?n.setAttribute("data-vc-date-selected","first-and-last"):e.context.selectedDates[0]===r?n.setAttribute("data-vc-date-selected","first"):e.context.selectedDates[e.context.selectedDates.length-1]===r&&n.setAttribute("data-vc-date-selected","last"),e.context.selectedDates[0]!==r&&e.context.selectedDates[e.context.selectedDates.length-1]!==r&&n.setAttribute("data-vc-date-selected","middle"))):n.hasAttribute("data-vc-date-selected")&&(n.removeAttribute("data-vc-date-selected"),a&&a.removeAttribute("aria-selected")),!e.context.disableDates.includes(r)&&e.enableEdgeDatesOnly&&e.context.selectedDates.length>1&&"multiple-ranged"===e.selectionDatesMode){const t=y(e.context.selectedDates[0]),a=y(e.context.selectedDates[e.context.selectedDates.length-1]),o=y(r);b(n,o>t&&a>o,"data-vc-date-selected","middle")}},g=(e,t)=>{const n=y(e),a=(n.getDay()-t+7)%7;n.setDate(n.getDate()+4-a);const o=new Date(n.getFullYear(),0,1),r=Math.ceil(((+n-+o)/864e5+1)/7);return{year:n.getFullYear(),week:r}},$=(e,t,n,a,o,r)=>{const i=y(o).getDay(),l="string"==typeof e.locale&&e.locale.length?e.locale:"en",s=document.createElement("div");let d;s.className=e.styles.date,s.dataset.vcDate=o,s.dataset.vcDateMonth=r,s.dataset.vcDateWeekDay=i+"",("current"===r||e.displayDatesOutside)&&(d=document.createElement("button"),d.className=e.styles.dateBtn,d.type="button",d.role="gridcell",d.ariaLabel=((e,t)=>new Date(e+"T00:00:00.000Z").toLocaleString(t,{dateStyle:"long",timeZone:"UTC"}))(o,l),d.dataset.vcDateBtn="",d.innerText=a+"",s.appendChild(d)),e.enableWeekNumbers&&((e,t,n)=>{const a=g(n,e.firstWeekday);t.dataset.vcDateWeekNumber=a.week+""})(e,s,o),((e,t,n)=>{var a,o,r,i,l;const s=null==(a=e.disableWeekdays)?void 0:a.includes(n),d=e.disableAllDates&&!!(null==(o=e.context.enableDates)?void 0:o[0]);!s&&!d||(null==(r=e.context.enableDates)?void 0:r.includes(t))||(null==(i=e.context.disableDates)?void 0:i.includes(t))||(e.context.disableDates.push(t),null==(l=e.context.disableDates)||l.sort(((e,t)=>+new Date(e)-+new Date(t))))})(e,o,i),M(e,t,s,d,i,o,r),n.appendChild(s),e.onCreateDateEls&&e.onCreateDateEls(e,s)},D=e=>{const t=new Date(e.context.selectedYear,e.context.selectedMonth,1),a=e.context.mainElement.querySelectorAll('[data-vc="dates"]'),o=e.context.mainElement.querySelectorAll('[data-vc-week="numbers"]');a.forEach(((a,r)=>{e.selectionDatesMode||(a.dataset.vcDatesDisabled=""),a.textContent="";const i=new Date(t);i.setMonth(i.getMonth()+r);const l=i.getMonth(),s=i.getFullYear(),d=(new Date(s,l,1).getDay()-e.firstWeekday+7)%7,c=new Date(s,l+1,0).getDate();((e,t,n,a,o)=>{let r=new Date(n,a,0).getDate()-(o-1);const i=0===a?n-1:n,l=0===a?12:10>a?"0"+a:a;for(let a=o;a>0;a--,r++)$(e,n,t,r,`${i}-${l}-${r}`,"prev")})(e,a,s,l,d),((e,t,n,a,o)=>{for(let r=1;n>=r;r++)$(e,a,t,r,w(new Date(a,o,r)),"current")})(e,a,c,s,l),((e,t,n,a,o,r)=>{const i=r+n,l=7*Math.ceil(i/7)-i,s=o+1===12?a+1:a,d=o+1===12?"01":10>o+2?"0"+(o+2):o+2;for(let n=1;l>=n;n++)$(e,a,t,n,`${s}-${d}-${10>n?"0"+n:n+""}`,"next")})(e,a,c,s,l,d),((e,t)=>{var a;e.popups&&(null==(a=Object.entries(e.popups))||a.forEach((([a,o])=>((e,t,a,o)=>{var r;const i=o.querySelector(`[data-vc-date="${t}"]`),l=null==i?void 0:i.querySelector("[data-vc-date-btn]");if(!i||!l)return;if((null==a?void 0:a.modifier)&&l.classList.add(...a.modifier.trim().split(" ")),!(null==a?void 0:a.html))return;const s=document.createElement("div");s.className=e.styles.datePopup,s.dataset.vcDatePopup="",s.innerHTML=e.sanitizerHTML(a.html),l.ariaExpanded="true",l.ariaLabel=`${l.ariaLabel}, ${null==(r=null==s?void 0:s.textContent)?void 0:r.replace(/^\s+|\s+(?=\s)|\s+$/g,"").replace(/&nbsp;/g," ")}`,i.appendChild(s),requestAnimationFrame((()=>{if(!s)return;const{canShow:e}=n(i,s);Object.assign(s.style,{left:(e.left&&!e.right?i.offsetWidth-s.offsetWidth/2:!e.left&&e.right?s.offsetWidth/2:0)+"px",top:(e.bottom?i.offsetHeight:-s.offsetHeight)+"px"})}))})(e,a,o,t))))})(e,a),((e,t,n,a,o)=>{if(!e.enableWeekNumbers)return;a.textContent="";const r=document.createElement("b");r.className=e.styles.weekNumbersTitle,r.innerText="#",r.dataset.vcWeekNumbers="title",a.appendChild(r);const i=document.createElement("div");i.className=e.styles.weekNumbersContent,i.dataset.vcWeekNumbers="content",a.appendChild(i);const l=document.createElement("button");l.type="button",l.className=e.styles.weekNumber;const s=o.querySelectorAll("[data-vc-date]"),d=Math.ceil((t+n)/7);for(let t=0;d>t;t++){const n=g(s[0===t?6:7*t].dataset.vcDate,e.firstWeekday);if(!n)return;const a=l.cloneNode(1);a.innerText=n.week+"",a.dataset.vcWeekNumber=n.week+"",a.dataset.vcWeekYear=n.year+"",a.role="rowheader",a.ariaLabel=""+n.week,i.appendChild(a)}})(e,d,c,o[r],a)}))},k=e=>`\n  <div class="${e.styles.header}" data-vc="header" role="toolbar" aria-label="${e.labels.navigation}">\n    <#ArrowPrev [month] />\n    <div class="${e.styles.headerContent}" data-vc-header="content">\n      <#Month />\n      <#Year />\n    </div>\n    <#ArrowNext [month] />\n  </div>\n  <div class="${e.styles.wrapper}" data-vc="wrapper">\n    <#WeekNumbers />\n    <div class="${e.styles.content}" data-vc="content">\n      <#Week />\n      <#Dates />\n      <#DateRangeTooltip />\n    </div>\n  </div>\n  <#ControlTime />\n`,A=e=>`\n  <div class="${e.styles.header}" data-vc="header" role="toolbar" aria-label="${e.labels.navigation}">\n    <div class="${e.styles.headerContent}" data-vc-header="content">\n      <#Month />\n      <#Year />\n    </div>\n  </div>\n  <div class="${e.styles.wrapper}" data-vc="wrapper">\n    <div class="${e.styles.content}" data-vc="content">\n      <#Months />\n    </div>\n  </div>\n`,T=e=>`\n  <div class="${e.styles.controls}" data-vc="controls" role="toolbar" aria-label="${e.labels.navigation}">\n    <#ArrowPrev [month] />\n    <#ArrowNext [month] />\n  </div>\n  <div class="${e.styles.grid}" data-vc="grid">\n    <#Multiple>\n      <div class="${e.styles.column}" data-vc="column" role="region">\n        <div class="${e.styles.header}" data-vc="header">\n          <div class="${e.styles.headerContent}" data-vc-header="content">\n            <#Month />\n            <#Year />\n          </div>\n        </div>\n        <div class="${e.styles.wrapper}" data-vc="wrapper">\n          <#WeekNumbers />\n          <div class="${e.styles.content}" data-vc="content">\n            <#Week />\n            <#Dates />\n          </div>\n        </div>\n      </div>\n    <#/Multiple>\n    <#DateRangeTooltip />\n  </div>\n  <#ControlTime />\n`,x=e=>`\n  <div class="${e.styles.header}" data-vc="header" role="toolbar" aria-label="${e.labels.navigation}">\n    <#ArrowPrev [year] />\n    <div class="${e.styles.headerContent}" data-vc-header="content">\n      <#Month />\n      <#Year />\n    </div>\n    <#ArrowNext [year] />\n  </div>\n  <div class="${e.styles.wrapper}" data-vc="wrapper">\n    <div class="${e.styles.content}" data-vc="content">\n      <#Years />\n    </div>\n  </div>\n`,C={ArrowNext:(e,t)=>`<button type="button" class="${e.styles.arrowNext}" data-vc-arrow="next" aria-label="${e.labels.arrowNext[t]}"></button>`,ArrowPrev:(e,t)=>`<button type="button" class="${e.styles.arrowPrev}" data-vc-arrow="prev" aria-label="${e.labels.arrowPrev[t]}"></button>`,ControlTime:e=>e.selectionTimeMode?`<div class="${e.styles.time}" data-vc="time" role="group" aria-label="${e.labels.selectingTime}"></div>`:"",Dates:e=>`<div class="${e.styles.dates}" data-vc="dates" role="grid" aria-live="assertive" aria-label="${e.labels.dates}" ${"multiple"===e.type?"aria-multiselectable":""}></div>`,DateRangeTooltip:e=>e.onCreateDateRangeTooltip?`<div class="${e.styles.dateRangeTooltip}" data-vc-date-range-tooltip="hidden"></div>`:"",Month:e=>`<button type="button" class="${e.styles.month}" data-vc="month"></button>`,Months:e=>`<div class="${e.styles.months}" data-vc="months" role="grid" aria-live="assertive" aria-label="${e.labels.months}"></div>`,Week:e=>`<div class="${e.styles.week}" data-vc="week" role="row" aria-label="${e.labels.week}"></div>`,WeekNumbers:e=>e.enableWeekNumbers?`<div class="${e.styles.weekNumbers}" data-vc-week="numbers" role="row" aria-label="${e.labels.weekNumber}"></div>`:"",Year:e=>`<button type="button" class="${e.styles.year}" data-vc="year"></button>`,Years:e=>`<div class="${e.styles.years}" data-vc="years" role="grid" aria-live="assertive" aria-label="${e.labels.years}"></div>`},P=(e,t)=>t.replace(/[\n\t]/g,"").replace(/<#(?!\/?Multiple)(.*?)>/g,((t,n)=>{const a=(n.match(/\[(.*?)\]/)||[])[1],o=(e=>C[e])(n.replace(/[/\s\n\t]|\[(.*?)\]/g,"")),r=o?o(e,null!=a?a:null):"";return e.sanitizerHTML(r)})).replace(/[\n\t]/g,""),_=(e,t)=>{const n={default:k,month:A,year:x,multiple:T};if(Object.keys(n).forEach((t=>{e.layouts[t].length||(e.layouts[t]=n[t](e))})),e.context.mainElement.className=e.styles.calendar,e.context.mainElement.dataset.vc="calendar",e.context.mainElement.dataset.vcType=e.context.currentType,e.context.mainElement.role="application",e.context.mainElement.tabIndex=0,e.context.mainElement.ariaLabel=e.labels.application,"multiple"!==e.context.currentType){if("multiple"===e.type&&t){const n=e.context.mainElement.querySelector('[data-vc="controls"]'),a=e.context.mainElement.querySelector('[data-vc="grid"]'),o=t.closest('[data-vc="column"]');return n&&e.context.mainElement.removeChild(n),a&&(a.dataset.vcGrid="hidden"),o&&(o.dataset.vcColumn=e.context.currentType),void(o&&(o.innerHTML=e.sanitizerHTML(P(e,e.layouts[e.context.currentType]))))}e.context.mainElement.innerHTML=e.sanitizerHTML(P(e,e.layouts[e.context.currentType]))}else e.context.mainElement.innerHTML=e.sanitizerHTML(((e,t)=>t.replace(RegExp("<#Multiple>(.*?)<#\\/Multiple>","gs"),((t,n)=>{const a=Array(e.context.displayMonthsCount).fill(n).join("");return e.sanitizerHTML(a)})).replace(/[\n\t]/g,""))(e,P(e,e.layouts[e.context.currentType])))},E=(e,t,n,a)=>{e.style.visibility=n?"hidden":"",t.style.visibility=a?"hidden":""},Y=e=>{if("month"===e.context.currentType)return;const t=e.context.mainElement.querySelector('[data-vc-arrow="prev"]'),n=e.context.mainElement.querySelector('[data-vc-arrow="next"]');t&&n&&{default:()=>((e,t,n)=>{const a=y(w(new Date(e.context.selectedYear,e.context.selectedMonth,1))),o=new Date(a.getTime()),r=new Date(a.getTime());o.setMonth(o.getMonth()-e.monthsToSwitch),r.setMonth(r.getMonth()+e.monthsToSwitch);const i=y(e.context.dateMin),l=y(e.context.dateMax);e.selectionYearsMode||(i.setFullYear(a.getFullYear()),l.setFullYear(a.getFullYear()));const s=!e.selectionMonthsMode||o.getFullYear()<i.getFullYear()||o.getFullYear()===i.getFullYear()&&o.getMonth()<i.getMonth(),d=!e.selectionMonthsMode||r.getFullYear()>l.getFullYear()||r.getFullYear()===l.getFullYear()&&r.getMonth()>l.getMonth()-(e.context.displayMonthsCount-1);E(t,n,s,d)})(e,t,n),year:()=>((e,t,n)=>{const a=y(e.context.dateMin),o=y(e.context.dateMax),r=!(!a.getFullYear()||e.context.displayYear-7>a.getFullYear()),i=!(!o.getFullYear()||e.context.displayYear+7<o.getFullYear());E(t,n,r,i)})(e,t,n)}["multiple"===e.context.currentType?"default":e.context.currentType]()},N=e=>{const t=e.context.mainElement.querySelectorAll('[data-vc="month"]'),n=e.context.mainElement.querySelectorAll('[data-vc="year"]'),a=new Date(e.context.selectedYear,e.context.selectedMonth,1);[t,n].forEach((t=>null==t?void 0:t.forEach(((t,n)=>((e,t,n,a,o)=>{const r=new Date(a.setFullYear(e.context.selectedYear,e.context.selectedMonth+n)).getFullYear(),i=new Date(a.setMonth(e.context.selectedMonth+n)).getMonth(),l=e.context.locale.months.long[i],s=t.closest('[data-vc="column"]');s&&(s.ariaLabel=`${l} ${r}`);const d={month:{id:i,label:l},year:{id:r,label:r}};t.innerText=d[o].label+"",t.dataset["vc"+(o.charAt(0).toUpperCase()+o.slice(1))]=d[o].id+"",t.ariaLabel=`${e.labels[o]} ${d[o].label}`;const c={month:e.selectionMonthsMode,year:e.selectionYearsMode},u=0==c[o]||"only-arrows"===c[o];u&&(t.tabIndex=-1),t.disabled=u})(e,t,n,a,t.dataset.vc)))))},S=(e,t,n,a,o)=>{var r;const i={month:{selected:"data-vc-months-month-selected",aria:"aria-selected",value:"vcMonthsMonth",selectedProperty:"selectedMonth"},year:{selected:"data-vc-years-year-selected",aria:"aria-selected",value:"vcYearsYear",selectedProperty:"selectedYear"}};o&&(null==(r=e.context.mainElement.querySelectorAll({month:"[data-vc-months-month]",year:"[data-vc-years-year]"}[n]))||r.forEach((e=>{e.removeAttribute(i[n].selected),e.removeAttribute(i[n].aria)})),p(e,i[n].selectedProperty,+t.dataset[i[n].value]),N(e),"year"===n&&Y(e)),a&&(t.setAttribute(i[n].selected,""),t.setAttribute(i[n].aria,"true"))},O=(e,t)=>{var n;if("multiple"!==e.type)return{currentValue:null,columnID:0};const a=e.context.mainElement.querySelectorAll('[data-vc="column"]'),o=Array.from(a).findIndex((e=>e.closest(`[data-vc-column="${t}"]`)));return{currentValue:0>o?null:+(null==(n=a[o].querySelector(`[data-vc="${t}"]`))?void 0:n.getAttribute("data-vc-"+t)),columnID:Math.max(o,0)}},H=(e,t,n,a,o,r,i)=>{const l=t.cloneNode(0);return l.className=e.styles.monthsMonth,l.innerText=a,l.ariaLabel=o,l.role="gridcell",l.dataset.vcMonthsMonth=""+i,r&&(l.ariaDisabled="true"),r&&(l.tabIndex=-1),l.disabled=r,S(e,l,"month",n===i,0),l},W=(e,t)=>{var n,a;const o=null==(n=null==t?void 0:t.closest('[data-vc="header"]'))?void 0:n.querySelector('[data-vc="year"]'),r=o?+o.dataset.vcYear:e.context.selectedYear,i=(null==t?void 0:t.dataset.vcMonth)?+t.dataset.vcMonth:e.context.selectedMonth;p(e,"currentType","month"),_(e,t),N(e);const l=e.context.mainElement.querySelector('[data-vc="months"]');if(!e.selectionMonthsMode||!l)return;const s=e.monthsToSwitch>1?e.context.locale.months.long.map(((t,n)=>i-e.monthsToSwitch*n)).concat(e.context.locale.months.long.map(((t,n)=>i+e.monthsToSwitch*n))).filter((e=>e>=0&&12>=e)):Array.from(Array(12).keys()),d=document.createElement("button");d.type="button";for(let t=0;12>t;t++){const n=y(e.context.dateMin),a=y(e.context.dateMax),o=e.context.displayMonthsCount-1,{columnID:c}=O(e,"month"),u=r<=n.getFullYear()&&t<n.getMonth()+c||r>=a.getFullYear()&&t>a.getMonth()-o+c||r>a.getFullYear()||t!==i&&!s.includes(t),v=H(e,d,i,e.context.locale.months.short[t],e.context.locale.months.long[t],u,t);l.appendChild(v),e.onCreateMonthEls&&e.onCreateMonthEls(e,v)}null==(a=e.context.mainElement.querySelector("[data-vc-months-month]:not([disabled])"))||a.focus()},j=(e,t,n,a,o)=>`\n  <label class="${t}" data-vc-time-input="${e}">\n    <input type="text" name="${e}" maxlength="2" aria-label="${n["input"+(e.charAt(0).toUpperCase()+e.slice(1))]}" value="${a}" ${o?"disabled":""}>\n  </label>\n`,I=(e,t,n,a,o,r,i)=>`\n  <label class="${t}" data-vc-time-range="${e}">\n    <input type="range" name="${e}" min="${a}" max="${o}" step="${r}" aria-label="${n["range"+(e.charAt(0).toUpperCase()+e.slice(1))]}" value="${i}">\n  </label>\n`,R=(e,t,n,a)=>{({hour:()=>p(e,"selectedHours",n),minute:()=>p(e,"selectedMinutes",n)})[a](),p(e,"selectedTime",`${e.context.selectedHours}:${e.context.selectedMinutes}${e.context.selectedKeeping?" "+e.context.selectedKeeping:""}`),e.onChangeTime&&e.onChangeTime(e,t,0),e.inputMode&&e.context.inputElement&&e.context.mainElement&&e.onChangeToInput&&e.onChangeToInput(e,t)},Z=(e,t)=>{var n;return(null==(n={0:{AM:"00",PM:"12"},1:{AM:"01",PM:"13"},2:{AM:"02",PM:"14"},3:{AM:"03",PM:"15"},4:{AM:"04",PM:"16"},5:{AM:"05",PM:"17"},6:{AM:"06",PM:"18"},7:{AM:"07",PM:"19"},8:{AM:"08",PM:"20"},9:{AM:"09",PM:"21"},10:{AM:"10",PM:"22"},11:{AM:"11",PM:"23"},12:{AM:"00",PM:"12"}}[+e])?void 0:n[t])||e+""},z=e=>({0:"12",13:"01",14:"02",15:"03",16:"04",17:"05",18:"06",19:"07",20:"08",21:"09",22:"10",23:"11"}[+e]||e+""),U=(e,t,n,a)=>{e.value=n,t.value=a},K=(e,t,n,a,o,r,i)=>{const l={hour(l,s,d){e.selectionTimeMode&&{12(){if(!e.context.selectedKeeping)return;const c=+Z(s,e.context.selectedKeeping);if(c>r||i>c)return U(n,t,e.context.selectedHours,e.context.selectedHours),void(e.onChangeTime&&e.onChangeTime(e,d,1));U(n,t,z(s),Z(s,e.context.selectedKeeping)),l>12&&((e,t,n)=>{t&&n&&(p(e,"selectedKeeping",n),t.innerText=n)})(e,a,"PM"),R(e,d,z(s),o)},24(){if(l>r||i>l)return U(n,t,e.context.selectedHours,e.context.selectedHours),void(e.onChangeTime&&e.onChangeTime(e,d,1));U(n,t,s,s),R(e,d,s,o)}}[e.selectionTimeMode]()},minute(a,l,s){if(a>r||i>a)return n.value=e.context.selectedMinutes,void(e.onChangeTime&&e.onChangeTime(e,s,1));n.value=l,t.value=l,R(e,s,l,o)}},s=e=>{const t=+n.value,a=n.value.padStart(2,"0");l[o]&&l[o](t,a,e)};return n.addEventListener("change",s),()=>{n.removeEventListener("change",s)}},q=(e,t,n,a,o)=>{const r=r=>{const i=+t.value,l=t.value.padStart(2,"0"),s="hour"===o,d=24===e.selectionTimeMode,c=i>0&&12>i;s&&!d&&((e,t,n)=>{t&&(p(e,"selectedKeeping",n),t.innerText=n)})(e,a,0===i||c?"AM":"PM"),((e,t,n,a,o)=>{t.value=o,R(e,n,o,a)})(e,n,r,o,!s||d||c?l:z(t.value))};return t.addEventListener("input",r),()=>{t.removeEventListener("input",r)}},L=e=>e.setAttribute("data-vc-input-focus",""),F=e=>e.removeAttribute("data-vc-input-focus"),V=e=>{const t=e.selectedWeekends?[...e.selectedWeekends]:[],n=[...e.context.locale.weekdays.long].reduce(((n,a,o)=>[...n,{id:o,titleShort:e.context.locale.weekdays.short[o],titleLong:a,isWeekend:t.includes(o)}]),[]),a=[...n.slice(e.firstWeekday),...n.slice(0,e.firstWeekday)];e.context.mainElement.querySelectorAll('[data-vc="week"]').forEach((t=>{const n=e.onClickWeekDay?document.createElement("button"):document.createElement("b");e.onClickWeekDay&&(n.type="button"),a.forEach((a=>{const o=n.cloneNode(1);o.innerText=a.titleShort,o.className=e.styles.weekDay,o.role="columnheader",o.ariaLabel=a.titleLong,o.dataset.vcWeekDay=a.id+"",a.isWeekend&&(o.dataset.vcWeekDayOff=""),t.appendChild(o)}))}))},B=(e,t,n,a,o)=>{const r=t.cloneNode(0);return r.className=e.styles.yearsYear,r.innerText=o+"",r.ariaLabel=o+"",r.role="gridcell",r.dataset.vcYearsYear=""+o,a&&(r.ariaDisabled="true"),a&&(r.tabIndex=-1),r.disabled=a,S(e,r,"year",n===o,0),r},G=(e,t)=>{var n;const a=(null==t?void 0:t.dataset.vcYear)?+t.dataset.vcYear:e.context.selectedYear;p(e,"currentType","year"),_(e,t),N(e),Y(e);const o=e.context.mainElement.querySelector('[data-vc="years"]');if(!e.selectionYearsMode||!o)return;const r="multiple"!==e.type||e.context.selectedYear===a?0:1,i=document.createElement("button");i.type="button";for(let t=e.context.displayYear-7;e.context.displayYear+8>t;t++){const n=t<y(e.context.dateMin).getFullYear()+r||t>y(e.context.dateMax).getFullYear(),l=B(e,i,a,n,t);o.appendChild(l),e.onCreateYearEls&&e.onCreateYearEls(e,l)}null==(n=e.context.mainElement.querySelector("[data-vc-years-year]:not([disabled])"))||n.focus()},J={value:0,set:()=>J.value=1,check:()=>J.value},Q=(e,t)=>e.dataset.vcTheme=t,X=(e,t)=>{if(Q(e.context.mainElement,t.matches?"dark":"light"),"system"!==e.selectedTheme||J.check())return;const n=e=>{const t=document.querySelectorAll('[data-vc="calendar"]');null==t||t.forEach((t=>Q(t,e.matches?"dark":"light")))};t.addEventListener?t.addEventListener("change",n):t.addListener(n),J.set()},ee=e=>e.charAt(0).toUpperCase()+e.slice(1).replace(/\./,""),te=e=>{const t={default(){V(e),D(e)},multiple(){V(e),D(e)},month:()=>W(e),year:()=>G(e)};(e=>{"not all"!==window.matchMedia("(prefers-color-scheme)").media?"system"===e.selectedTheme?((e,t)=>{const n=e.themeAttrDetect.length?document.querySelector(e.themeAttrDetect):null,a=e.themeAttrDetect.replace(/^.*\[(.+)\]/g,((e,t)=>t));if(!n||"system"===n.getAttribute(a))return void X(e,t);const o=n.getAttribute(a);o?(Q(e.context.mainElement,o),((e,t,n)=>{new MutationObserver((e=>{for(let a=0;e.length>a;a++)if(e[a].attributeName===t){n();break}})).observe(e,{attributes:1})})(n,a,(()=>{const t=n.getAttribute(a);t&&Q(e.context.mainElement,t)}))):X(e,t)})(e,window.matchMedia("(prefers-color-scheme: dark)")):Q(e.context.mainElement,e.selectedTheme):Q(e.context.mainElement,"light")})(e),(e=>{var t,n,a,o,r,i,l,s;if(!(e.context.locale.weekdays.short[6]&&e.context.locale.weekdays.long[6]&&e.context.locale.months.short[11]&&e.context.locale.months.long[11]))if("string"==typeof e.locale){if("string"==typeof e.locale&&!e.locale.length)throw Error(m);Array.from({length:7},((t,n)=>((e,t,n)=>{const a=new Date(`1978-01-0${t+1}T00:00:00.000Z`),o=a.toLocaleString(n,{weekday:"short",timeZone:"UTC"}),r=a.toLocaleString(n,{weekday:"long",timeZone:"UTC"});e.context.locale.weekdays.short.push(ee(o)),e.context.locale.weekdays.long.push(ee(r))})(e,n,e.locale))),Array.from({length:12},((t,n)=>((e,t,n)=>{const a=new Date(`1978-${(t+1+"").padStart(2,"0")}-01T00:00:00.000Z`),o=a.toLocaleString(n,{month:"short",timeZone:"UTC"}),r=a.toLocaleString(n,{month:"long",timeZone:"UTC"});e.context.locale.months.short.push(ee(o)),e.context.locale.months.long.push(ee(r))})(e,n,e.locale)))}else{if(!((null==(n=null==(t=e.locale)?void 0:t.weekdays)?void 0:n.short[6])&&(null==(o=null==(a=e.locale)?void 0:a.weekdays)?void 0:o.long[6])&&(null==(i=null==(r=e.locale)?void 0:r.months)?void 0:i.short[11])&&(null==(s=null==(l=e.locale)?void 0:l.months)?void 0:s.long[11])))throw Error(m);p(e,"locale",c({},e.locale))}})(e),_(e),N(e),Y(e),(e=>{const t=e.context.mainElement.querySelector('[data-vc="time"]');if(!e.selectionTimeMode||!t)return;const[n,a]=[e.timeMinHour,e.timeMaxHour],[o,r]=[e.timeMinMinute,e.timeMaxMinute],i=e.context.selectedKeeping?Z(e.context.selectedHours,e.context.selectedKeeping):e.context.selectedHours,l="range"===e.timeControls;var s;t.innerHTML=e.sanitizerHTML(`\n    <div class="${e.styles.timeContent}" data-vc-time="content">\n      ${j("hour",e.styles.timeHour,e.labels,e.context.selectedHours,l)}\n      ${j("minute",e.styles.timeMinute,e.labels,e.context.selectedMinutes,l)}\n      ${12===e.selectionTimeMode?(s=e.context.selectedKeeping,`<button type="button" class="${e.styles.timeKeeping}" aria-label="${e.labels.btnKeeping} ${s}" data-vc-time="keeping" ${l?"disabled":""}>${s}</button>`):""}\n    </div>\n    <div class="${e.styles.timeRanges}" data-vc-time="ranges">\n      ${I("hour",e.styles.timeRange,e.labels,n,a,e.timeStepHour,i)}\n      ${I("minute",e.styles.timeRange,e.labels,o,r,e.timeStepMinute,e.context.selectedMinutes)}\n    </div>\n  `),((e,t)=>{const n=t.querySelector('[data-vc-time-range="hour"] input[name="hour"]'),a=t.querySelector('[data-vc-time-range="minute"] input[name="minute"]'),o=t.querySelector('[data-vc-time-input="hour"] input[name="hour"]'),r=t.querySelector('[data-vc-time-input="minute"] input[name="minute"]'),i=t.querySelector('[data-vc-time="keeping"]');n&&a&&o&&r&&(t.addEventListener("mouseover",(e=>{e.target===n&&L(o),e.target===a&&L(r)})),t.addEventListener("mouseout",(e=>{e.target===n&&F(o),e.target===a&&F(r)})),K(e,n,o,i,"hour",e.timeMaxHour,e.timeMinHour),K(e,a,r,i,"minute",e.timeMaxMinute,e.timeMinMinute),q(e,n,o,i,"hour"),q(e,a,r,i,"minute"),i&&((e,t,n,a,o)=>{t.addEventListener("click",(r=>{const i="AM"===e.context.selectedKeeping?"PM":"AM",l=Z(e.context.selectedHours,i);+l>a||o>+l?e.onChangeTime&&e.onChangeTime(e,r,1):(p(e,"selectedKeeping",i),n.value=l,R(e,r,e.context.selectedHours,"hour"),t.ariaLabel=`${e.labels.btnKeeping} ${e.context.selectedKeeping}`,t.innerText=e.context.selectedKeeping)}))})(e,i,n,e.timeMaxHour,e.timeMinHour))})(e,t)})(e),t[e.context.currentType]()},ne=e=>{const t=()=>Array.from(e.context.mainElement.querySelectorAll('[data-vc="calendar"] button'));let n=0;const a={ArrowUp:(e,t)=>Math.max(0,e-t),ArrowDown:(e,n)=>Math.min(t().length-1,e+n),ArrowLeft:e=>Math.max(0,e-1),ArrowRight:e=>Math.min(t().length-1,e+1)},o=e=>{var o,r;if(!a[e.key]||"button"!==(null==(o=e.target)?void 0:o.localName))return;const i=t(),l=i[n].hasAttribute("data-vc-date-btn")?7:i[n].hasAttribute("data-vc-months-month")?4:i[n].hasAttribute("data-vc-years-year")?5:1;n=a[e.key](n,l),null==(r=i[n])||r.focus()};return e.context.mainElement.addEventListener("keydown",o),()=>{e.context.mainElement.removeEventListener("keydown",o)}},ae=(e,t)=>{const n=y(w(new Date(e.context.selectedYear,e.context.selectedMonth,1)));({prev:()=>n.setMonth(n.getMonth()-e.monthsToSwitch),next:()=>n.setMonth(n.getMonth()+e.monthsToSwitch)})[t](),p(e,"selectedMonth",n.getMonth()),p(e,"selectedYear",n.getFullYear()),N(e),Y(e),D(e)},oe=e=>void 0===e.enableDateToggle||("function"==typeof e.enableDateToggle?e.enableDateToggle(e):e.enableDateToggle),re=(e,t,n)=>{const a=t.dataset.vcDate,o=t.closest("[data-vc-date][data-vc-date-selected]"),r=oe(e);if(o&&!r)return;const i=o?e.context.selectedDates.filter((e=>e!==a)):n?[...e.context.selectedDates,a]:[a];p(e,"selectedDates",i)},ie=(e,t,n)=>{if(!t)return;if(!n)return t.dataset.vcDateRangeTooltip="hidden",void(t.textContent="");const a=e.context.mainElement.getBoundingClientRect(),o=n.getBoundingClientRect();t.style.left=o.left-a.left+o.width/2+"px",t.style.top=o.bottom-a.top-o.height+"px",t.dataset.vcDateRangeTooltip="visible",t.innerHTML=e.sanitizerHTML(e.onCreateDateRangeTooltip(e,n,t,o,a))},le={self:null,lastDateEl:null,isHovering:0,rangeMin:void 0,rangeMax:void 0,tooltipEl:null,timeoutId:null},se=(e,t,n)=>{var a,o,r;if(!(null==(o=null==(a=le.self)?void 0:a.context)?void 0:o.selectedDates[0]))return;const i=w(e);(null==(r=le.self.context.disableDates)?void 0:r.includes(i))||(le.self.context.mainElement.querySelectorAll(`[data-vc-date="${i}"]`).forEach((e=>e.dataset.vcDateHover="")),t.forEach((e=>e.dataset.vcDateHover="first")),n.forEach((e=>{e.dataset.vcDateHover="first"===e.dataset.vcDateHover?"first-and-last":"last"})))},de=()=>{var e,t;(null==(t=null==(e=le.self)?void 0:e.context)?void 0:t.mainElement)&&le.self.context.mainElement.querySelectorAll("[data-vc-date-hover]").forEach((e=>e.removeAttribute("data-vc-date-hover")))},ce=e=>t=>{le.isHovering||(le.isHovering=1,requestAnimationFrame((()=>{e(t),le.isHovering=0})))},ue=ce((e=>{var t,n;if(!e.target||!(null==(n=null==(t=le.self)?void 0:t.context)?void 0:n.selectedDates[0]))return;if(!e.target.closest('[data-vc="dates"]'))return le.lastDateEl=null,ie(le.self,le.tooltipEl,null),void de();const a=e.target.closest("[data-vc-date]");if(!a||le.lastDateEl===a)return;le.lastDateEl=a,ie(le.self,le.tooltipEl,a),de();const o=a.dataset.vcDate,r=y(le.self.context.selectedDates[0]),i=y(o),l=le.self.context.mainElement.querySelectorAll(`[data-vc-date="${le.self.context.selectedDates[0]}"]`),s=le.self.context.mainElement.querySelectorAll(`[data-vc-date="${o}"]`),[d,c]=i>r?[l,s]:[s,l],[u,v]=i>r?[r,i]:[i,r];for(let e=new Date(u);v>=e;e.setDate(e.getDate()+1))se(e,d,c)})),ve=ce((e=>{const t=e.target.closest("[data-vc-date-selected]");if(!t&&le.lastDateEl)return le.lastDateEl=null,void ie(le.self,le.tooltipEl,null);t&&le.lastDateEl!==t&&(le.lastDateEl=t,ie(le.self,le.tooltipEl,t))})),me=e=>{le.self&&"Escape"===e.key&&(le.lastDateEl=null,p(le.self,"selectedDates",[]),le.self.context.mainElement.removeEventListener("mousemove",ue),le.self.context.mainElement.removeEventListener("keydown",me),ie(le.self,le.tooltipEl,null),de())},he=()=>{null!==le.timeoutId&&clearTimeout(le.timeoutId),le.timeoutId=setTimeout((()=>{le.lastDateEl=null,ie(le.self,le.tooltipEl,null),de()}),50)},pe=(e,t)=>{le.self=e,le.lastDateEl=t,de(),e.disableDatesGaps&&(le.rangeMin=le.rangeMin?le.rangeMin:e.context.displayDateMin,le.rangeMax=le.rangeMax?le.rangeMax:e.context.displayDateMax),e.onCreateDateRangeTooltip&&(le.tooltipEl=e.context.mainElement.querySelector("[data-vc-date-range-tooltip]"));const n=null==t?void 0:t.dataset.vcDate;if(n){const t=1===e.context.selectedDates.length&&e.context.selectedDates[0].includes(n),a=t&&!oe(e)?[n,n]:t&&oe(e)?[]:e.context.selectedDates.length>1?[n]:[...e.context.selectedDates,n];p(e,"selectedDates",a),e.context.selectedDates.length>1&&e.context.selectedDates.sort(((e,t)=>+new Date(e)-+new Date(t)))}({set:()=>(e.disableDatesGaps&&(()=>{var e,t,n,a;if(!(null==(n=null==(t=null==(e=le.self)?void 0:e.context)?void 0:t.selectedDates)?void 0:n[0])||!(null==(a=le.self.context.disableDates)?void 0:a[0]))return;const o=y(le.self.context.selectedDates[0]),[r,i]=le.self.context.disableDates.map((e=>y(e))).reduce((([e,t],n)=>[n>o?e:n,n>o&&null===t?n:t]),[null,null]);r&&p(le.self,"displayDateMin",w(new Date(r.setDate(r.getDate()+1)))),i&&p(le.self,"displayDateMax",w(new Date(i.setDate(i.getDate()-1)))),le.self.disableDatesPast&&!le.self.disableAllDates&&y(le.self.context.displayDateMin)<y(le.self.context.dateToday)&&p(le.self,"displayDateMin",le.self.context.dateToday)})(),ie(le.self,le.tooltipEl,t),le.self.context.mainElement.removeEventListener("mousemove",ve),le.self.context.mainElement.removeEventListener("mouseleave",he),le.self.context.mainElement.removeEventListener("keydown",me),le.self.context.mainElement.addEventListener("mousemove",ue),le.self.context.mainElement.addEventListener("mouseleave",he),le.self.context.mainElement.addEventListener("keydown",me),()=>{le.self.context.mainElement.removeEventListener("mousemove",ue),le.self.context.mainElement.removeEventListener("mouseleave",he),le.self.context.mainElement.removeEventListener("keydown",me)}),reset(){const[n,a]=[e.context.selectedDates[0],e.context.selectedDates[e.context.selectedDates.length-1]],o=e.context.selectedDates[0]!==e.context.selectedDates[e.context.selectedDates.length-1],r=f([`${n}:${a}`]).filter((t=>!e.context.disableDates.includes(t)));if(p(e,"selectedDates",o?e.enableEdgeDatesOnly?[n,a]:r:[e.context.selectedDates[0],e.context.selectedDates[0]]),e.disableDatesGaps&&(p(e,"displayDateMin",le.rangeMin),p(e,"displayDateMax",le.rangeMax)),le.self.context.mainElement.removeEventListener("mousemove",ue),le.self.context.mainElement.removeEventListener("mouseleave",he),le.self.context.mainElement.removeEventListener("keydown",me),e.onCreateDateRangeTooltip)return e.context.selectedDates[0]||(le.self.context.mainElement.removeEventListener("mousemove",ve),le.self.context.mainElement.removeEventListener("mouseleave",he),ie(le.self,le.tooltipEl,null)),e.context.selectedDates[0]&&(le.self.context.mainElement.addEventListener("mousemove",ve),le.self.context.mainElement.addEventListener("mouseleave",he),ie(le.self,le.tooltipEl,t)),()=>{le.self.context.mainElement.removeEventListener("mousemove",ve),le.self.context.mainElement.removeEventListener("mouseleave",he)}}})[1===e.context.selectedDates.length?"set":"reset"]()},ye=e=>{e.context.mainElement.querySelectorAll("[data-vc-date]").forEach((t=>{const n=t.querySelector("[data-vc-date-btn]"),a=t.dataset.vcDate,o=y(a).getDay();M(e,e.context.selectedYear,t,n,o,a,"current")}))},we=["month","year"],fe=(e,t,n)=>{const{currentValue:a,columnID:o}=O(e,t);return"month"!==e.context.currentType||0>o?"year"===e.context.currentType&&e.context.selectedYear!==a?n-1:n:n-o},be=e=>{const t=t=>{((e,t)=>{const n=t.target.closest("[data-vc-arrow]");n&&(["default","multiple"].includes(e.context.currentType)?ae(e,n.dataset.vcArrow):"year"===e.context.currentType&&void 0!==e.context.displayYear&&(p(e,"displayYear",e.context.displayYear+{prev:-15,next:15}[n.dataset.vcArrow]),G(e,t.target)),e.onClickArrow&&e.onClickArrow(e,t))})(e,t),((e,t)=>{if(!e.onClickWeekDay)return;const n=t.target.closest("[data-vc-week-day]"),a=t.target.closest('[data-vc="column"]'),o=a?a.querySelectorAll("[data-vc-date-week-day]"):e.context.mainElement.querySelectorAll("[data-vc-date-week-day]");if(!n||!o[0])return;const r=+n.dataset.vcWeekDay,i=Array.from(o).filter((e=>+e.dataset.vcDateWeekDay===r));e.onClickWeekDay(e,r,i,t)})(e,t),((e,t)=>{if(!e.enableWeekNumbers||!e.onClickWeekNumber)return;const n=t.target.closest("[data-vc-week-number]"),a=e.context.mainElement.querySelectorAll("[data-vc-date-week-number]");if(!n||!a[0])return;const o=+n.innerText,r=+n.dataset.vcWeekYear,i=Array.from(a).filter((e=>+e.dataset.vcDateWeekNumber===o));e.onClickWeekNumber(e,o,r,i,t)})(e,t),((e,t)=>{var n;const a=t.target,o=a.closest("[data-vc-date-btn]");if(!e.selectionDatesMode||!["single","multiple","multiple-ranged"].includes(e.selectionDatesMode)||!o)return;const r=o.closest("[data-vc-date]");({single(){return re(e,r,0)},multiple(){return re(e,r,1)},"multiple-ranged"(){return pe(e,r)}})[e.selectionDatesMode](),null==(n=e.context.selectedDates)||n.sort(((e,t)=>+new Date(e)-+new Date(t))),e.onClickDate&&e.onClickDate(e,t),e.inputMode&&e.context.inputElement&&e.context.mainElement&&e.onChangeToInput&&e.onChangeToInput(e,t);const i=a.closest('[data-vc-date-month="prev"]'),l=a.closest('[data-vc-date-month="next"]');({prev(){return e.enableMonthChangeOnDayClick?ae(e,"prev"):ye(e)},next(){return e.enableMonthChangeOnDayClick?ae(e,"next"):ye(e)},current(){return ye(e)}})[i?"prev":l?"next":"current"]()})(e,t),((e,t)=>{const n={month:e.selectionMonthsMode,year:e.selectionYearsMode};we.forEach((a=>{n[a]&&t.target&&((e,t,n)=>{var a;const o=t.target,r=o.closest(`[data-vc="${n}"]`),i={year:()=>G(e,o),month:()=>W(e,o)};if(r&&e.onClickTitle&&e.onClickTitle(e,t),r&&e.context.currentType!==n)return i[n]();const l=o.closest(`[data-vc-${n}s-${n}]`);if(l)return((e,t,n,a)=>{var o;({year(){if("multiple"===e.type)return((e,t)=>{const n=fe(e,"year",+t.dataset.vcYearsYear),a=y(e.context.dateMin),o=y(e.context.dateMax),r=e.context.displayMonthsCount-1,{columnID:i}=O(e,"year"),l=e.context.selectedMonth<a.getMonth()&&n<=a.getFullYear(),s=e.context.selectedMonth>o.getMonth()-r+i&&n>=o.getFullYear(),d=n<a.getFullYear(),c=n>o.getFullYear(),u=l||d?a.getFullYear():s||c?o.getFullYear():n,v=l||d?a.getMonth():s||c?o.getMonth()-r+i:e.context.selectedMonth;p(e,"selectedYear",u),p(e,"selectedMonth",v)})(e,a);p(e,"selectedYear",+a.dataset.vcYearsYear)},month(){if("multiple"===e.type)return((e,t)=>{const n=t.closest('[data-vc-column="month"]').querySelector('[data-vc="year"]'),a=fe(e,"month",+t.dataset.vcMonthsMonth),o=+n.dataset.vcYear,r=y(e.context.dateMin),i=y(e.context.dateMax),l=a<r.getMonth()&&o<=r.getFullYear(),s=a>i.getMonth()&&o>=i.getFullYear();p(e,"selectedYear",o),p(e,"selectedMonth",l?r.getMonth():s?i.getMonth():a)})(e,a);p(e,"selectedMonth",+a.dataset.vcMonthsMonth)}})[n](),{year(){var n;return null==(n=e.onClickYear)?void 0:n.call(e,e,t)},month(){var n;return null==(n=e.onClickMonth)?void 0:n.call(e,e,t)}}[n](),e.context.currentType!==e.type?(p(e,"currentType",e.type),te(e),null==(o=e.context.mainElement.querySelector(`[data-vc="${n}"]`))||o.focus()):S(e,a,n,1,1)})(e,t,n,l);const s=o.closest('[data-vc="grid"]'),d=o.closest('[data-vc="column"]');(e.context.currentType===n&&r||"multiple"===e.type&&e.context.currentType===n&&s&&!d)&&(p(e,"currentType",e.type),te(e),null==(a=e.context.mainElement.querySelector(`[data-vc="${n}"]`))||a.focus())})(e,t,a)}))})(e,t)};return e.context.mainElement.addEventListener("click",t),()=>e.context.mainElement.removeEventListener("click",t)},Me=(e,t)=>"today"===e?(()=>{const e=new Date;return new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().substring(0,10)})():e instanceof Date||"number"==typeof e||"string"==typeof e?f([e])[0]:t,ge=(e,t,n)=>{p(e,"selectedMonth",t),p(e,"selectedYear",n),p(e,"displayYear",n)},$e=e=>{p(e,"currentType",e.type),(e=>{if("multiple"===e.type&&(1>=e.displayMonthsCount||e.displayMonthsCount>12))throw Error(h);if("multiple"!==e.type&&e.displayMonthsCount>1)throw Error(h);p(e,"displayMonthsCount",e.displayMonthsCount?e.displayMonthsCount:"multiple"===e.type?2:1)})(e),(e=>{var t,n,a;const o=Me(e.dateMin,e.dateMin),r=Me(e.dateMax,e.dateMax),i=Me(e.displayDateMin,o),l=Me(e.displayDateMax,r);p(e,"dateToday",Me(e.dateToday,e.dateToday)),p(e,"displayDateMin",i&&y(o)<y(i)?i:o),p(e,"displayDateMax",l&&y(r)>y(l)?l:r);const s=e.disableDatesPast&&!e.disableAllDates&&y(i)<y(e.context.dateToday);p(e,"displayDateMin",s||e.disableAllDates?e.context.dateToday:i),p(e,"displayDateMax",e.disableAllDates?e.context.dateToday:l),p(e,"disableDates",e.disableDates[0]&&!e.disableAllDates?f(e.disableDates):e.disableAllDates?[e.context.displayDateMin]:[]),e.context.disableDates.length>1&&e.context.disableDates.sort(((e,t)=>+new Date(e)-+new Date(t))),p(e,"enableDates",e.enableDates[0]?f(e.enableDates):[]),(null==(t=e.context.enableDates)?void 0:t[0])&&(null==(n=e.context.disableDates)?void 0:n[0])&&p(e,"disableDates",e.context.disableDates.filter((t=>!e.context.enableDates.includes(t)))),e.context.enableDates.length>1&&e.context.enableDates.sort(((e,t)=>+new Date(e)-+new Date(t))),(null==(a=e.context.enableDates)?void 0:a[0])&&e.disableAllDates&&(p(e,"displayDateMin",e.context.enableDates[0]),p(e,"displayDateMax",e.context.enableDates[e.context.enableDates.length-1])),p(e,"dateMin",e.displayDisabledDates?o:e.context.displayDateMin),p(e,"dateMax",e.displayDisabledDates?r:e.context.displayDateMax)})(e),(e=>{var t;if(e.enableJumpToSelectedDate&&(null==(t=e.selectedDates)?void 0:t[0])&&void 0===e.selectedMonth&&void 0===e.selectedYear){const t=y(f(e.selectedDates)[0]);return void ge(e,t.getMonth(),t.getFullYear())}const n=void 0!==e.selectedYear&&+e.selectedYear>=0&&9999>=+e.selectedYear;ge(e,void 0!==e.selectedMonth&&+e.selectedMonth>=0&&12>+e.selectedMonth?+e.selectedMonth:y(e.context.dateToday).getMonth(),n?+e.selectedYear:y(e.context.dateToday).getFullYear())})(e),(e=>{var t;p(e,"selectedDates",(null==(t=e.selectedDates)?void 0:t[0])?f(e.selectedDates):[])})(e),(e=>{var t,n,a;if(!e.selectionTimeMode)return;if(![12,24].includes(e.selectionTimeMode))throw Error("The value of the time property can be: false, 12 or 24.");const o=12===e.selectionTimeMode,r=o?/^(0[1-9]|1[0-2]):([0-5][0-9]) ?(AM|PM)?$/i:/^([0-1]?[0-9]|2[0-3]):([0-5][0-9])$/;let[i,l,s]=null!=(a=null==(n=null==(t=e.selectedTime)?void 0:t.match(r))?void 0:n.slice(1))?a:[];i?o&&!s&&(s="AM"):(i=o?z(e.timeMinHour+""):e.timeMinHour+"",l=e.timeMinMinute+"",s=o?12>+z(e.timeMinHour+"")?"AM":"PM":null),p(e,"selectedHours",i.padStart(2,"0")),p(e,"selectedMinutes",l.padStart(2,"0")),p(e,"selectedKeeping",s),p(e,"selectedTime",`${e.context.selectedHours}:${e.context.selectedMinutes}${s?" "+s:""}`)})(e)},De=(e,{year:t,month:n,dates:a,time:o,locale:r},i=1)=>{var l;const s={year:e.selectedYear,month:e.selectedMonth,dates:e.selectedDates,time:e.selectedTime};e.selectedYear=t?s.year:e.context.selectedYear,e.selectedMonth=n?s.month:e.context.selectedMonth,e.selectedTime=o?s.time:e.context.selectedTime,e.selectedDates="only-first"===a&&(null==(l=e.context.selectedDates)?void 0:l[0])?[e.context.selectedDates[0]]:1==a?s.dates:e.context.selectedDates,r&&p(e,"locale",{months:{short:[],long:[]},weekdays:{short:[],long:[]}}),$e(e),i&&te(e),e.selectedYear=s.year,e.selectedMonth=s.month,e.selectedDates=s.dates,e.selectedTime=s.time,"multiple-ranged"===e.selectionDatesMode&&a&&pe(e,null)},ke=(a,o,r)=>{if(!a)return;const i="auto"===r?((e,t)=>{const a="left";if(!t||!e)return a;const{canShow:o,parentPositions:r}=n(e,t),i=o.left&&o.right;return(i&&o.bottom?"center":i&&o.top?["top","center"]:Array.isArray(r)?["bottom"===r[0]?"top":"bottom",...r.slice(1)]:r)||a})(a,o):r,l={top:-o.offsetHeight,bottom:a.offsetHeight,left:0,center:a.offsetWidth/2-o.offsetWidth/2,right:a.offsetWidth-o.offsetWidth},s=Array.isArray(i)?i[0]:"bottom",d=Array.isArray(i)?i[1]:i;o.dataset.vcPosition=s;const{top:c,left:u}=e(a),v=c+l[s];let m=u+l[d];const{vw:h}=t();if(m+o.clientWidth>h){const e=window.innerWidth-document.body.clientWidth;m=h-o.clientWidth-e}else 0>m&&(m=0);Object.assign(o.style,{left:m+"px",top:v+"px"})},Ae=(e,t)=>{if(!e.context.isInit)throw Error(v);De(e,c(c({},{year:1,month:1,dates:1,time:1,locale:1}),t),!(e.inputMode&&!e.context.inputModeInit)),e.onUpdate&&e.onUpdate(e)},Te=(e,t)=>{const n=Object.keys(t);for(let a=0;n.length>a;a++){const o=n[a];"object"!=typeof e[o]||"object"!=typeof t[o]||t[o]instanceof Date||Array.isArray(t[o])?void 0!==t[o]&&(e[o]=t[o]):Te(e[o],t[o])}},xe={application:"Calendar",navigation:"Calendar Navigation",arrowNext:{month:"Next month",year:"Next list of years"},arrowPrev:{month:"Previous month",year:"Previous list of years"},month:"Select month, current selected month:",months:"List of months",year:"Select year, current selected year:",years:"List of years",week:"Days of the week",weekNumber:"Numbers of weeks in a year",dates:"Dates in the current month",selectingTime:"Selecting a time ",inputHour:"Hours",inputMinute:"Minutes",rangeHour:"Slider for selecting hours",rangeMinute:"Slider for selecting minutes",btnKeeping:"Switch AM/PM, current position:"},Ce={calendar:"vc",controls:"vc-controls",grid:"vc-grid",column:"vc-column",header:"vc-header",headerContent:"vc-header__content",month:"vc-month",year:"vc-year",arrowPrev:"vc-arrow vc-arrow_prev",arrowNext:"vc-arrow vc-arrow_next",wrapper:"vc-wrapper",content:"vc-content",months:"vc-months",monthsMonth:"vc-months__month",years:"vc-years",yearsYear:"vc-years__year",week:"vc-week",weekDay:"vc-week__day",weekNumbers:"vc-week-numbers",weekNumbersTitle:"vc-week-numbers__title",weekNumbersContent:"vc-week-numbers__content",weekNumber:"vc-week-number",dates:"vc-dates",date:"vc-date",dateBtn:"vc-date__btn",datePopup:"vc-date__popup",dateRangeTooltip:"vc-date-range-tooltip",time:"vc-time",timeContent:"vc-time__content",timeHour:"vc-time__hour",timeMinute:"vc-time__minute",timeKeeping:"vc-time__keeping",timeRanges:"vc-time__ranges",timeRange:"vc-time__range"};class Pe{constructor(){u(this,"type","default"),u(this,"inputMode",0),u(this,"positionToInput","left"),u(this,"firstWeekday",1),u(this,"monthsToSwitch",1),u(this,"themeAttrDetect","html[data-theme]"),u(this,"locale","en"),u(this,"dateToday","today"),u(this,"dateMin","1970-01-01"),u(this,"dateMax","2470-12-31"),u(this,"displayDateMin"),u(this,"displayDateMax"),u(this,"displayDatesOutside",1),u(this,"displayDisabledDates",0),u(this,"displayMonthsCount"),u(this,"disableDates",[]),u(this,"disableAllDates",0),u(this,"disableDatesPast",0),u(this,"disableDatesGaps",0),u(this,"disableWeekdays",[]),u(this,"disableToday",0),u(this,"enableDates",[]),u(this,"enableEdgeDatesOnly",1),u(this,"enableDateToggle",1),u(this,"enableWeekNumbers",0),u(this,"enableMonthChangeOnDayClick",1),u(this,"enableJumpToSelectedDate",0),u(this,"selectionDatesMode","single"),u(this,"selectionMonthsMode",1),u(this,"selectionYearsMode",1),u(this,"selectionTimeMode",0),u(this,"selectedDates",[]),u(this,"selectedMonth"),u(this,"selectedYear"),u(this,"selectedHolidays",[]),u(this,"selectedWeekends",[0,6]),u(this,"selectedTime"),u(this,"selectedTheme","system"),u(this,"timeMinHour",0),u(this,"timeMaxHour",23),u(this,"timeMinMinute",0),u(this,"timeMaxMinute",59),u(this,"timeControls","all"),u(this,"timeStepHour",1),u(this,"timeStepMinute",1),u(this,"sanitizerHTML",(e=>e)),u(this,"onClickDate"),u(this,"onClickWeekDay"),u(this,"onClickWeekNumber"),u(this,"onClickTitle"),u(this,"onClickMonth"),u(this,"onClickYear"),u(this,"onClickArrow"),u(this,"onChangeTime"),u(this,"onChangeToInput"),u(this,"onCreateDateRangeTooltip"),u(this,"onCreateDateEls"),u(this,"onCreateMonthEls"),u(this,"onCreateYearEls"),u(this,"onInit"),u(this,"onUpdate"),u(this,"onDestroy"),u(this,"onShow"),u(this,"onHide"),u(this,"popups",{}),u(this,"labels",c({},xe)),u(this,"layouts",{default:"",multiple:"",month:"",year:""}),u(this,"styles",c({},Ce))}}const _e=class e extends Pe{constructor(t,n){var a;super(),u(this,"init",(()=>(e=>(p(e,"originalElement",e.context.mainElement.cloneNode(1)),p(e,"isInit",1),e.inputMode?(e=>{const t=[];p(e,"inputElement",e.context.mainElement);const n=()=>ke(e.context.inputElement,e.context.mainElement,e.positionToInput),a=t=>{var n,o;"Escape"===t.key&&((null==(n=null==e?void 0:e.context)?void 0:n.inputElement)&&(null==(o=null==e?void 0:e.context)?void 0:o.mainElement)&&e.hide(),document.removeEventListener("keydown",a))},o=t=>{e&&t.target!==e.context.inputElement&&!e.context.mainElement.contains(t.target)&&(e.context.inputElement&&e.context.mainElement&&e.hide(),window.removeEventListener("resize",n),document.removeEventListener("click",o,{capture:1}))},r=()=>{e.context.inputModeInit?(ke(e.context.inputElement,e.context.mainElement,e.positionToInput),e.context.mainElement.style.visibility="visible",e.show()):t.push(((e,t=1)=>{const n=document.createElement("div");return n.className=e.styles.calendar,n.dataset.vc="calendar",n.dataset.vcInput="",n.dataset.vcCalendarHidden="",n.style.visibility="hidden",p(e,"inputModeInit",1),p(e,"mainElement",n),document.body.appendChild(e.context.mainElement),t&&queueMicrotask((()=>{ke(e.context.inputElement,n,e.positionToInput),e.context.mainElement.style.visibility="visible",e.show()})),De(e,{year:1,month:1,dates:1,time:1,locale:1}),e.onInit&&e.onInit(e),ne(e),be(e)})(e)),window.addEventListener("resize",n),document.addEventListener("click",o,{capture:1}),document.addEventListener("keydown",a)};return e.context.inputElement.addEventListener("click",r),e.context.inputElement.addEventListener("focus",r),()=>{t.forEach((e=>e()))}})(e):($e(e),te(e),e.onInit&&e.onInit(e),ne(e),be(e))))(this))),u(this,"update",(e=>Ae(this,e))),u(this,"destroy",(()=>(e=>{var t,n,a,o,r;if(!e.context.isInit)throw Error(v);e.inputMode?(null==(t=e.context.mainElement.parentElement)||t.removeChild(e.context.mainElement),null==(a=null==(n=e.context.inputElement)?void 0:n.replaceWith)||a.call(n,e.context.originalElement),p(e,"inputElement",void 0)):null==(r=(o=e.context.mainElement).replaceWith)||r.call(o,e.context.originalElement),p(e,"mainElement",e.context.originalElement),e.onDestroy&&e.onDestroy(e)})(this))),u(this,"show",(()=>(e=>{e.context.currentType?(e.context.mainElement.removeAttribute("data-vc-calendar-hidden"),e.onShow&&e.onShow(e)):e.context.mainElement.click()})(this))),u(this,"hide",(()=>(e=>{e.context.currentType&&(e.context.mainElement.dataset.vcCalendarHidden="",e.onHide&&e.onHide(e))})(this))),u(this,"set",((e,t)=>((e,t,n)=>{Te(e,t),e.context.isInit&&Ae(e,n)})(this,e,t))),u(this,"context"),this.context=(e=>o(e,r({locale:{months:{short:[],long:[]},weekdays:{short:[],long:[]}}})))(c({},this.context)),p(this,"mainElement","string"==typeof t?null!=(a=e.memoizedElements.get(t))?a:this.queryAndMemoize(t):t),n&&Te(this,n)}queryAndMemoize(t){const n=document.querySelector(t);if(!n)throw Error((e=>e+" is not found, check the first argument passed to new Calendar.")(t));return e.memoizedElements.set(t,n),n}};u(_e,"memoizedElements",new Map);let Ee=_e;export{Ee as C};